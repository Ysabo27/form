<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="he" dir="rtl" class="supernova "><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="alternate" type="application/json+oembed" href="https://www.jotform.com/oembed/?format=json&amp;url=https%3A%2F%2Fform.jotform.com%2F253492832169061" title="oEmbed Form">
<link rel="alternate" type="text/xml+oembed" href="https://www.jotform.com/oembed/?format=xml&amp;url=https%3A%2F%2Fform.jotform.com%2F253492832169061" title="oEmbed Form">
<meta property="og:title" content="Smart PDF Form" >
<meta property="og:url" content="https://form.jotform.com/253492832169061" >
<meta property="og:description" content="Please click the link to complete this form." >
<meta name="slack-app-id" content="AHNMASS8M">
<meta property="og:image" content="https://cdn.jotfor.ms/assets/img/landing/opengraph.png" />
<link rel="shortcut icon" href="https://cdn.jotfor.ms/assets/img/favicons/favicon-2021-light%402x.png">
<link rel="apple-touch-icon" href="https://cdn.jotfor.ms/assets/img/favicons/favicon-2021-light%402x.png">
<script>
          var favicon = document.querySelector('link[rel="shortcut icon"]');
          window.isDarkMode = (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches);
          if(favicon && window.isDarkMode) {
              favicon.href = favicon.href.replaceAll('favicon-2021-light%402x.png', 'favicon-2021-dark%402x.png');
          }
      </script><link rel="canonical" href="https://form.jotform.com/253492832169061" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2.0, user-scalable=1" />
<meta name="HandheldFriendly" content="true" />
<title>Smart PDF Form</title>
<link type="text/css" rel="stylesheet" href="https://cdn.jotfor.ms/stylebuilder/static/form-common.css?v=c53583d
"/>
<style type="text/css">@media print{*{-webkit-print-color-adjust: exact !important;color-adjust: exact !important;}.form-section{display:inline!important}.form-pagebreak{display:none!important}.form-section-closed{height:auto!important}.page-section{position:initial!important}}</style>
<style type="text/css" id="form-designer-style">
    /* Injected CSS Code */
    /* עיצוב תוויות בצד */
    .form-label.form-label-top {
        display: inline-block;
        float: right;
        width: 200px;
        margin-left: 15px;
        margin-right: 0;
        margin-bottom: 0;
        text-align: right;
        vertical-align: middle;
        line-height: 2.5;
    }
    
    .form-label.form-label-auto {
        display: inline-block;
        float: right;
        width: 200px;
        margin-left: 15px;
        margin-right: 0;
        margin-bottom: 0;
        text-align: right;
        vertical-align: middle;
        line-height: 2.5;
    }
    
    .form-input-wide {
        display: inline-block;
        width: calc(100% - 220px);
        vertical-align: middle;
    }
    
    .form-line {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
        min-height: 40px;
    }

    /* RTL Support */
    html[dir="rtl"],
    html[dir="rtl"] body,
    html[dir="rtl"] .form-all,
    html[dir="rtl"] .form-line {
        direction: rtl;
    }
    
    html[dir="rtl"] .form-label,
    html[dir="rtl"] .form-label.form-label-auto,
    html[dir="rtl"] .form-label.form-label-top {
        float: right;
        text-align: right;
        margin-left: 15px;
        margin-right: 0;
    }
    
    html[dir="rtl"] .form-input-wide {
        float: right;
    }
    
    html[dir="rtl"] .form-input {
        float: right;
        text-align: right;
    }
    
    html[dir="rtl"] input[type="text"],
    html[dir="rtl"] input[type="number"],
    html[dir="rtl"] input[type="email"],
    html[dir="rtl"] input[type="tel"] {
        text-align: right;
        direction: rtl;
    }
    
    html[dir="rtl"] .form-buttons-wrapper {
        text-align: center;
    }
    
    html[dir="rtl"] #form-status-message {
        text-align: center;
        direction: rtl;
    }
    
    /* סימון שדות עם שגיאה */
    .field-error {
        border: 2px solid #d32f2f !important;
        background-color: #ffebee !important;
        box-shadow: 0 0 5px rgba(211, 47, 47, 0.3) !important;
    }
    
    .field-error:focus {
        outline: none;
        border-color: #d32f2f !important;
        box-shadow: 0 0 8px rgba(211, 47, 47, 0.5) !important;
    }
    
    /* סימון חתימה עם שגיאה */
    .signature-error {
        border: 2px solid #d32f2f !important;
        background-color: #ffebee !important;
    }

    /* מסתיר את הנקודה בשדה מספר אשראי */
    #input_40 {
        color: #000;
    }
</style>
<link id="custom-font" type="text/css" rel="stylesheet" href="//cdn.jotfor.ms/fonts/?family=Inter" />
<link type="text/css" rel="stylesheet" href="https://cdn.jotfor.ms/themes/CSS/5e6b428acc8c4e222d1beb91.css?v=3.3.67397"/>
<link type="text/css" rel="stylesheet" href="https://cdn.jotfor.ms/s/static/5c27240a752/css/styles/payment/payment_styles.css?3.3.67397" />
<link type="text/css" rel="stylesheet" href="https://cdn.jotfor.ms/s/static/5c27240a752/css/styles/payment/payment_feature.css?3.3.67397" />
<script>window.enableEventObserver=true</script>
<!--[if lt IE 9]>
<script src="https://cdn.jotfor.ms/s/static/5c27240a752/js/vendor/flashcanvas.js" type="text/javascript"></script>
<![endif]-->
<script src="https://cdn.jotfor.ms/s/static/5c27240a752/js/vendor/jquery-3.7.1.min.js" type="text/javascript"></script>
<script src="https://cdn.jotfor.ms/s/static/5c27240a752/js/vendor/jSignature/jSignature.js" type="text/javascript"></script>
<script src="https://cdn.jotfor.ms/s/static/5c27240a752/js/vendor/jSignature/jSignature.CompressorBase30.js" type="text/javascript"></script>
<script src="https://cdn.jotfor.ms/s/static/5c27240a752/js/vendor/jSignature/jSignature.CompressorSVG.js" type="text/javascript"></script>
<script src="https://cdn.jotfor.ms/s/static/5c27240a752/js/vendor/jSignature/jSignature.UndoButton.js" type="text/javascript"></script>
<script src="https://cdn.jotfor.ms/s/static/5c27240a752/js/vendor/jotform.signaturepad.new.js" type="text/javascript"></script>
<script src="https://cdn.jotfor.ms/s/static/5c27240a752/static/prototype.forms.js" type="text/javascript"></script>
<script src="https://cdn.jotfor.ms/s/static/5c27240a752/static/jotform.forms.js" type="text/javascript"></script>
<script src="https://cdn.jotfor.ms/s/static/5c27240a752/js/vendor/maskedinput_5.0.9.min.js" type="text/javascript"></script>
<script src="https://cdn.jotfor.ms/s/static/5c27240a752/js/punycode-1.4.1.min.js" type="text/javascript" defer></script>
<script src="https://cdn.jotfor.ms/s/umd/3104dde1761/for-pdfimporter-patch.js" type="text/javascript"></script>
<script src="https://cdn.jotfor.ms/s/umd/3104dde1761/for-form-branding-footer.js" type="text/javascript" defer></script>
<script src="https://cdn.jotfor.ms/s/static/5c27240a752/js/vendor/smoothscroll.min.js" type="text/javascript"></script>
<script src="https://cdn.jotfor.ms/s/static/5c27240a752/js/errorNavigation.js" type="text/javascript"></script>
<script type="text/javascript">	JotForm.newDefaultTheme = true;
	JotForm.extendsNewTheme = false;
	JotForm.CDN_VENDOR_PATH = "https://cdn.jotfor.ms/s/vendor/static";
	JotForm.singleProduct = false;
	JotForm.newPaymentUIForNewCreatedForms = true;
	JotForm.texts = {"confirmEmail":"E-mail does not match","pleaseWait":"Please wait...","validateEmail":"You need to validate this e-mail","confirmClearForm":"Are you sure you want to clear the form","lessThan":"Your score should be less than or equal to","incompleteFields":"There are incomplete required fields. Please complete them.","required":"This field is required.","requireOne":"At least one field required.","requireEveryRow":"Every row is required.","requireEveryCell":"Every cell is required.","email":"Enter a valid e-mail address","alphabetic":"This field can only contain letters","numeric":"This field can only contain numeric values","alphanumeric":"This field can only contain letters and numbers.","cyrillic":"This field can only contain cyrillic characters","url":"This field can only contain a valid URL","currency":"This field can only contain currency values.","fillMask":"Field value must fill mask.","uploadExtensions":"You can only upload following files:","noUploadExtensions":"File has no extension file type (e.g. .txt, .png, .jpeg)","uploadFilesize":"File size cannot be bigger than:","uploadFilesizemin":"File size cannot be smaller than:","gradingScoreError":"Score total should only be less than or equal to","inputCarretErrorA":"Input should not be less than the minimum value:","inputCarretErrorB":"Input should not be greater than the maximum value:","maxDigitsError":"The maximum digits allowed is","minCharactersError":"The number of characters should not be less than the minimum value:","maxCharactersError":"The number of characters should not be more than the maximum value:","freeEmailError":"Free email accounts are not allowed","minSelectionsError":"The minimum required number of selections is ","maxSelectionsError":"The maximum number of selections allowed is ","pastDatesDisallowed":"Date must not be in the past.","dateLimited":"This date is unavailable.","dateInvalid":"This date is not valid. The date format is {format}","dateInvalidSeparate":"This date is not valid. Enter a valid {element}.","ageVerificationError":"You must be older than {minAge} years old to submit this form.","multipleFileUploads_typeError":"{file} has invalid extension. Only {extensions} are allowed.","multipleFileUploads_sizeError":"{file} is too large, maximum file size is {sizeLimit}.","multipleFileUploads_minSizeError":"{file} is too small, minimum file size is {minSizeLimit}.","multipleFileUploads_emptyError":"{file} is empty, please select files again without it.","multipleFileUploads_uploadFailed":"File upload failed, please remove it and upload the file again.","multipleFileUploads_onLeave":"The files are being uploaded, if you leave now the upload will be cancelled.","multipleFileUploads_fileLimitError":"Only {fileLimit} file uploads allowed.","dragAndDropFilesHere_infoMessage":"Drag and drop files here","chooseAFile_infoMessage":"Choose a file","maxFileSize_infoMessage":"Max. file size","generalError":"There are errors on the form. Please fix them before continuing.","generalPageError":"There are errors on this page. Please fix them before continuing.","wordLimitError":"Too many words. The limit is","wordMinLimitError":"Too few words.  The minimum is","characterLimitError":"Too many Characters.  The limit is","characterMinLimitError":"Too few characters. The minimum is","ccInvalidNumber":"Credit Card Number is invalid.","ccInvalidCVC":"CVC number is invalid.","ccInvalidExpireDate":"Expire date is invalid.","ccInvalidExpireMonth":"Expiration month is invalid.","ccInvalidExpireYear":"Expiration year is invalid.","ccMissingDetails":"Please fill up the credit card details.","ccMissingProduct":"Please select at least one product.","ccMissingDonation":"Please enter numeric values for donation amount.","disallowDecimals":"Please enter a whole number.","restrictedDomain":"This domain is not allowed","ccDonationMinLimitError":"Minimum amount is {minAmount} {currency}","requiredLegend":"All fields marked with * are required and must be filled.","geoPermissionTitle":"Permission Denied","geoPermissionDesc":"Check your browser's privacy settings.","geoNotAvailableTitle":"Position Unavailable","geoNotAvailableDesc":"Location provider not available. Please enter the address manually.","geoTimeoutTitle":"Timeout","geoTimeoutDesc":"Please check your internet connection and try again.","selectedTime":"Selected Time","formerSelectedTime":"Former Time","cancelAppointment":"Cancel Appointment","cancelSelection":"Cancel Selection","confirmSelection":"Confirm Selection","noSlotsAvailable":"No slots available","slotUnavailable":"{time} on {date} has been selected is unavailable. Please select another slot.","multipleError":"There are {count} errors on this page. Please correct them before moving on.","oneError":"There is {count} error on this page. Please correct it before moving on.","doneMessage":"Well done! All errors are fixed.","invalidTime":"Enter a valid time","doneButton":"Done","reviewSubmitText":"Review and Submit","nextButtonText":"Next","prevButtonText":"Previous","seeErrorsButton":"See Errors","notEnoughStock":"Not enough stock for the current selection","notEnoughStock_remainedItems":"Not enough stock for the current selection ({count} items left)","soldOut":"Sold Out","justSoldOut":"Just Sold Out","selectionSoldOut":"Selection Sold Out","subProductItemsLeft":"({count} items left)","startButtonText":"START","submitButtonText":"Submit","submissionLimit":"Sorry! Only one entry is allowed. <br> Multiple submissions are disabled for this form.","reviewBackText":"Back to Form","seeAllText":"See All","progressMiddleText":"of","fieldError":"field has an error.","error":"Error"};
	JotForm.newPaymentUI = true;
	JotForm.importedPDF = "aHR0cHMlM0ElMkYlMkZ3d3cuam90Zm9ybS5jb20lMkZ1cGxvYWRzJTJGeW9zc2lzYWJvMSUyRmZvcm1fZmlsZXMlMkZwZmNfZmxfNjk0MTU0ZGUxOTg4MF8lRDclOTglRDclOTUlRDclQTQlRDclQTdfJUQ3JTk0JUQ3JUFBJUQ3JUE0JUQ3JUE3JUQ3JTkzJUQ3JTk1JUQ3JUFBXyVENyU5QyVENyU5QyVENyU5OSVENyU5QiVENyU5NSVENyU5My5wZGYlM0ZuYyUzRDE=";
	JotForm.importedPDFSettings = {"isConnected":"Yes","enableThumbnail":"Yes","hasPreviewButton":"Yes","startButtonText":"התחל למלא","formType":"legacyForm","welcomeThumbnail":""};
	JotForm.originalLanguage = "he";
	JotForm.isFormViewTrackingAllowed = true;
	JotForm.replaceTagTest = true;
	JotForm.activeRedirect = "thanktext";
	JotForm.uploadServerURL = "https://upload.jotform.com/upload";
	JotForm.clearFieldOnHide="disable";
	JotForm.submitError="jumpToFirstError";
	window.addEventListener('DOMContentLoaded',function(){window.brandingFooter.init({"formID":253492832169061,"campaign":"powered_by_jotform_le","isCardForm":false,"isLegacyForm":true,"formLanguage":"he"})});
	JotForm.init(function(){
	/*INIT-START*/

 JotForm.calendarMonths = ["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"];
 if (!JotForm.calenderViewMonths) JotForm.calenderViewMonths = {};  JotForm.calenderViewMonths[58] = ["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"];
 if (!JotForm.calenderViewDays) JotForm.calenderViewDays = {};  JotForm.calenderViewDays[58] = ["יום ראשון","יום שני","יום שלישי","יום רביעי","יום חמישי","יום שישי","יום שבת","יום ראשון"];
 JotForm.calendarDays = ["יום ראשון","יום שני","יום שלישי","יום רביעי","יום חמישי","יום שישי","יום שבת","יום ראשון"];
 JotForm.calendarOther = {"today":"היום"};
 var languageOptions = document.querySelectorAll('#langList li'); 
 for(var langIndex = 0; langIndex < languageOptions.length; langIndex++) { 
   languageOptions[langIndex].on('click', function(e) { setTimeout(function(){ JotForm.setCalendar("58", false, {"days":{"monday":true,"tuesday":true,"wednesday":true,"thursday":true,"friday":true,"saturday":true,"sunday":true},"future":true,"past":true,"custom":false,"ranges":false,"start":"","end":"","countSelectedDaysOnly":false}); }, 0); });
 } 
 JotForm.onTranslationsFetch(function() { JotForm.setCalendar("58", false, {"days":{"monday":true,"tuesday":true,"wednesday":true,"thursday":true,"friday":true,"saturday":true,"sunday":true},"future":true,"past":true,"custom":false,"ranges":false,"start":"","end":"","countSelectedDaysOnly":false}); });
 JotForm.formatDate({date:(new Date()), dateField:$("id_"+58)});
if (window.JotForm && JotForm.accessible) $('input_7').setAttribute('tabindex',0);
if (window.JotForm && JotForm.accessible) $('input_8').setAttribute('tabindex',0);
if (window.JotForm && JotForm.accessible) $('input_9').setAttribute('tabindex',0);
if (window.JotForm && JotForm.accessible) $('input_13').setAttribute('tabindex',0);
if (window.JotForm && JotForm.accessible) $('input_15').setAttribute('tabindex',0);
if (window.JotForm && JotForm.accessible) $('input_16').setAttribute('tabindex',0);
      // הוסר: JotForm.setPhoneMaskingValidator - המסכה מונעת הקלדת מספרים
      // JotForm.setPhoneMaskingValidator( 'input_18_full', '\u0028\u0023\u0023\u0023\u0029 \u0023\u0023\u0023\u002d\u0023\u0023\u0023\u0023' );
if (window.JotForm && JotForm.accessible) $('input_24').setAttribute('tabindex',0);
if (window.JotForm && JotForm.accessible) $('input_25').setAttribute('tabindex',0);
if (window.JotForm && JotForm.accessible) $('input_26').setAttribute('tabindex',0);
if (window.JotForm && JotForm.accessible) $('input_30').setAttribute('tabindex',0);
      // הוסר: JotForm.setPhoneMaskingValidator - המסכה מונעת הקלדת מספרים
      // JotForm.setPhoneMaskingValidator( 'input_33_full', '\u0028\u0023\u0023\u0023\u0029 \u0023\u0023\u0023\u002d\u0023\u0023\u0023\u0023' );
if (window.JotForm && JotForm.accessible) $('input_40').setAttribute('tabindex',0);
if (window.JotForm && JotForm.accessible) $('input_61').setAttribute('tabindex',0);
if (window.JotForm && JotForm.accessible) $('input_42').setAttribute('tabindex',0);
      JotForm.alterTexts({"ageVerificationError":"עליך להיות מעל גיל {minAge} כדי לשלוח טופס זה.","alphabetic":"שדה זה יכול להכיל רק אותיות","alphanumeric":"שדה זה יכול להכיל רק אותיות ומספרים.","appointmentSelected":"בחרת ב{time} בתאריך {date}","cancelAppointment":"Cancel Appointment","cancelSelection":"Cancel Selection","ccDonationMinLimitError":"הסכום המינימלי הוא {minAmount} {currency}","ccInvalidCVC":"מספר CVC אינו חוקי.","ccInvalidExpireDate":"תאריך התפוגה אינו חוקי.","ccInvalidExpireMonth":"Expiration month is invalid.","ccInvalidExpireYear":"Expiration year is invalid.","ccInvalidNumber":"מספר כרטיס האשראי אינו תקין.","ccMissingDetails":"Please fill up the credit card details.","ccMissingDonation":"נא להזין ערכים מספריים עבור סכום התרומה.","ccMissingProduct":"אנא בחר מוצר אחד לפחות.","characterLimitError":"יותר מדי תווים. הגבול הוא","characterMinLimitError":"מעט מדי תווים. המינימום הוא","chooseAFile_infoMessage":"בחר קובץ","confirmClearForm":"Are you sure you want to clear the form","confirmEmail":"האימייל אינו תואם","confirmSelection":"Confirm Selection","currency":"שדה זה יכול להכיל רק ערכי מטבע.","cyrillic":"שדה זה יכול להכיל רק תווים קיריליים","dateInvalid":"תאריך זה אינו תקף. פורמט התאריך הוא {format}","dateInvalidSeparate":"תאריך זה אינו תקף. הזן {element} חוקי.","dateLimited":"תאריך זה אינו זמין.","disallowDecimals":"נא להזין מספר שלם.","doneButton":"Done","doneMessage":"כל הכבוד! כל השגיאות מתוקנות.","dragAndDropFilesHere_infoMessage":"גרור ושחרר קבצים כאן","email":"הכנס כתובת אימייל תקינה","error":"Error","fieldError":"field has an error.","fillMask":"ערך השדה חייב למלא את המסכה.","formerSelectedTime":"Former Time","freeEmailError":"חשבונות אימייל בחינם אינם מותרים","generalError":"יש שגיאות בטופס. אנא תקן אותם לפני שתמשיך.","generalPageError":"יש שגיאות בעמוד הזה. אנא תקן אותם לפני שתמשיך.","geoNotAvailableDesc":"Location provider not available. Please enter the address manually.","geoNotAvailableTitle":"Position Unavailable","geoPermissionDesc":"Check your browser's privacy settings.","geoPermissionTitle":"Permission Denied","geoTimeoutDesc":"Please check your internet connection and try again.","geoTimeoutTitle":"Timeout","gradingScoreError":"סך הניקוד צריך להיות רק קטן או שווה ל","incompleteFields":"יש שדות חובה לא מלאים. נא להשלים אותם.","inputCarretErrorA":"הקלט לא צריך להיות קטן מהערך המינימלי:","inputCarretErrorB":"הקלט לא צריך להיות גדול מהערך המקסימלי:","invalidTime":"Enter a valid time","justSoldOut":"בדיוק נמכר הכל","lessThan":"הציון שלך צריך להיות קטן או שווה ל","maxCharactersError":"The number of characters should not be more than the maximum value:","maxDigitsError":"הספרות המקסימליות המותרות הן","maxFileSize_infoMessage":"מקסימום גודל הקובץ","maxSelectionsError":"The maximum number of selections allowed is ","minCharactersError":"מספר התווים לא צריך להיות קטן מהערך המינימלי:","minSelectionsError":"The minimum required number of selections is ","multipleError":"There are {count} errors on this page. Please correct them before moving on.","multipleFileUploads_emptyError":"{file} ריק, אנא בחר שוב קבצים בלעדיו.","multipleFileUploads_fileLimitError":"רק {fileLimit} העלאות קבצים מותרות.","multipleFileUploads_minSizeError":"{file} קטן מדי, גודל הקובץ המינימלי הוא {minSizeLimit}.","multipleFileUploads_onLeave":"הקבצים מועלים, אם תעזוב כעת ההעלאה תבוטל.","multipleFileUploads_sizeError":"{file} גדול מדי, גודל הקובץ המרבי הוא {sizeLimit}.","multipleFileUploads_typeError":"ל-{file} יש סיומת לא חוקית. רק סיומות {extensions} מותרות.","multipleFileUploads_uploadFailed":"File upload failed, please remove it and upload the file again.","nextButtonText":"הבא","noSlotsAvailable":"אין משבצות זמינות","notEnoughStock":"אין מספיק מלאי לבחירה הנוכחית","notEnoughStock_remainedItems":"אין מספיק מלאי לבחירה הנוכחית (נותרו {count} פריטים)","noUploadExtensions":"File has no extension file type (e.g. .txt, .png, .jpeg)","numeric":"שדה זה יכול להכיל רק ערכים מספריים","oneError":"There is {count} error on this page. Please correct it before moving on.","pastDatesDisallowed":"אסור שהתאריך יהיה בעבר.","pleaseWait":"המתן בבקשה...","prevButtonText":"קודם","progressMiddleText":"של","required":"זהו שדה חובה.","requiredLegend":"כל השדות המסומנים ב-* נדרשים ויש למלא אותם.","requireEveryCell":"כל תא נדרש.","requireEveryRow":"כל שורה נדרשת.","requireOne":"נדרש שדה אחד לפחות.","restrictedDomain":"This domain is not allowed","reviewBackText":"חזרה לטופס","reviewSubmitText":"בדוק ושלח","seeAllText":"ראה הכל","seeErrorsButton":"ראו שגיאות","selectedTime":"Selected Time","selectionSoldOut":"הפריט אזל","slotUnavailable":"{time} on {date} has been taken. Please select another slot.","soldOut":"נמכר הכל","startButtonText":"START","submissionLimit":"Sorry! Only one entry is allowed. &lt;br&gt; Multiple submissions are disabled for this form.","submitButtonText":"שליחה","subProductItemsLeft":"(נותרו {count} פריטים)","uploadExtensions":"You can only upload following files:","uploadFilesize":"File size cannot be bigger than:","uploadFilesizemin":"File size cannot be smaller than:","url":"שדה זה יכול להכיל רק כתובת URL חוקית","validateEmail":"You need to validate this e-mail","wordLimitError":"יותר מידי מילים. הגבול הוא","wordMinLimitError":"מעט מדי מילים. המינימום הוא"});
	/*INIT-END*/
	});

   setTimeout(function() {
JotForm.paymentExtrasOnTheFly([null,null,null,null,null,null,{"name":"prtyhhbr","qid":"6","text":"פרטי החבר","type":"control_head"},{"description":"","name":"smmsphh","qid":"7","subLabel":"","text":"שם משפחה","type":"control_textbox"},{"description":"","name":"smprty","qid":"8","subLabel":"","text":"שם פרטי","type":"control_textbox"},{"description":"","name":"sntlydh","qid":"9","subLabel":"","text":"שנת לידה","type":"control_textbox"},null,null,null,{"description":"","name":"smh'b","qid":"13","subLabel":"","text":"שם האב","type":"control_textbox"},null,{"description":"","name":"ktwbt","qid":"15","subLabel":"","text":"רחוב","type":"control_textbox"},{"description":"","name":"yswb","qid":"16","subLabel":"","text":"עיר","type":"control_textbox"},null,{"description":"","name":"tlpwnnyyd","qid":"18","text":"טלפון נייד:","type":"control_phone"},null,null,{"description":"","name":"dw'r'lqtrwny","qid":"21","subLabel":"example@example.com","text":"דואר אלקטרוני: (E-mail)","type":"control_email"},{"description":"","name":"htymh","qid":"22","subLabel":"","text":"חתימה","type":"control_signature"},{"name":"prtybnbt","qid":"23","text":"פרטי בן\u002Fבת הזוג","type":"control_head"},{"description":"","name":"smmsphh24","qid":"24","subLabel":"","text":"שם משפחה בת\u002Fבן זוג","type":"control_textbox"},{"description":"","name":"smprty25","qid":"25","subLabel":"","text":"שם פרטי בת\u002Fבן זוג","type":"control_textbox"},{"description":"","name":"sntlydh26","qid":"26","subLabel":"","text":"שנת לידה בת\u002Fבן זוג","type":"control_textbox"},null,null,null,{"description":"","name":"smh'b30","qid":"30","subLabel":"","text":"שם האב בת\u002Fבן זוג","type":"control_textbox"},null,null,{"description":"","name":"tlpwnnyyd33","qid":"33","text":"טלפון נייד:","type":"control_phone"},null,null,{"description":"","name":"dw'r'lqtrwny36","qid":"36","subLabel":"example@example.com","text":"דואר אלקטרוני: (E-mail) בת\u002Fבן זוג","type":"control_email"},{"description":"","name":"htymh37","qid":"37","subLabel":"","text":"חתימה בת\u002Fבן זוג","type":"control_signature"},{"name":"hrs'hltslwm","qid":"38","text":"הרשאה לתשלום דמי חבר שנתיים באמצעות הוראת קבע בכרטיס אשראי","type":"control_head"},null,{"description":"","name":"mskrtys","qid":"40","subLabel":"","text":"מספר אשראי","type":"control_textbox"},null,{"description":"","name":"smb'l","qid":"42","subLabel":"","text":"שם בעל הכרטיס","type":"control_textbox"},null,{"description":"","name":"htymh44","qid":"44","subLabel":"","text":"חתימה אמצעי תשלום","type":"control_signature"},{"name":"nytnlslm","qid":"45","text":"דמי החבר השנתיים הינם 64 ש\"ח ליחיד ו- 96 ש\"ח לזוג ויגבו ישירות ע\"י  הליכוד\r\n(לא ניתן לשלם בכרטיס אמריקן אקספרס או דיינרס)","type":"control_text"},null,null,null,null,null,null,null,null,null,null,{"name":"submit","qid":"56","text":"Submit","type":"control_button"},{"description":"","name":"input57","qid":"57","subLabel":"","text":"תעודת זהות","type":"control_number"},{"description":"","name":"input58","qid":"58","text":"תאריך הבקשה","type":"control_datetime"},{"description":"","name":"input59","qid":"59","subLabel":"","text":"מספר בית","type":"control_number"},{"description":"","name":"input60","qid":"60","subLabel":"","text":"תעודת זהות בת\u002Fבן זוג","type":"control_number"},{"description":"","name":"input61","qid":"61","subLabel":"","text":"תוקף אשראי","type":"control_textbox"},{"description":"","name":"input62","qid":"62","subLabel":"","text":"תעודת זהות בעל הכרטיס","type":"control_number"},{"description":"","labelText":"","name":"D7A6D799D79CD795D79D20D79ED7A1D79A202025-12-162016","qid":"63","text":"%D7%A6%D7%99%D7%9C%D7%95%D7%9D%20%D7%9E%D7%A1%D7%9A%202025-12-16%20161507.6941697da21714.27355850","type":"control_image"}]);}, 20); 
</script>
</head>
<body dir="rtl">
<form class="jotform-form" onsubmit="return typeof testSubmitFunction !== 'undefined' && testSubmitFunction();" action="https://submit.jotform.com/submit/253492832169061" method="post" name="form_253492832169061" id="253492832169061" accept-charset="utf-8" autocomplete="on"><input type="hidden" name="formID" value="253492832169061" /><input type="hidden" id="JWTContainer" value="" /><input type="hidden" id="cardinalOrderNumber" value="" /><input type="hidden" id="jsExecutionTracker" name="jsExecutionTracker" value="build-date-1765894634966" /><input type="hidden" id="submitSource" name="submitSource" value="unknown" /><input type="hidden" id="submitDate" name="submitDate" value="undefined" /><input type="hidden" id="buildDate" name="buildDate" value="1765894634966" /><input type="hidden" name="uploadServerUrl" value="https://upload.jotform.com/upload" /><input type="hidden" name="eventObserver" value="1" />
  <div role="main" class="form-all">
    <ul class="form-section page-section" role="presentation">
      <li class="form-line" data-type="control_image" id="id_63">
        <div id="cid_63" class="form-input-wide" data-layout="full">
          <div style="text-align:center" aria-hidden="true" role="none"><img alt="Image-63" loading="lazy" class="form-image" style="border:0" src="https://www.jotform.com/uploads/yossisabo1/form_files/%D7%A6%D7%99%D7%9C%D7%95%D7%9D%20%D7%9E%D7%A1%D7%9A%202025-12-16%20161507.6941697da21714.27355850.png" height="204px" width="680px" data-component="image" role="none" aria-hidden="true" tabindex="-1" /></div>
        </div>
      </li>
      <li class="form-line" data-type="control_datetime" id="id_58"><label class="form-label form-label-top form-label-auto" id="label_58" for="lite_mode_58" aria-hidden="false"> תאריך הבקשה </label>
        <div id="cid_58" class="form-input-wide" data-layout="half">
          <div data-wrapper-react="true">
            <div style="display:none"><span class="form-sub-label-container" style="vertical-align:top"><input class="currentDate form-textbox validate[limitDate]" id="day_58" name="q58_input58[day]" type="tel" size="2" data-maxlength="2" data-age="" maxLength="2" autoComplete="off" aria-labelledby="label_58 sublabel_58_day" value="16" /><span class="date-separate" aria-hidden="true"> -</span><label class="form-sub-label" for="day_58" id="sublabel_58_day" style="min-height:13px">יום</label></span><span class="form-sub-label-container" style="vertical-align:top"><input class="form-textbox validate[limitDate]" id="month_58" name="q58_input58[month]" type="tel" size="2" data-maxlength="2" data-age="" maxLength="2" autoComplete="off" aria-labelledby="label_58 sublabel_58_month" value="12" /><span class="date-separate" aria-hidden="true"> -</span><label class="form-sub-label" for="month_58" id="sublabel_58_month" style="min-height:13px">חודש</label></span><span class="form-sub-label-container" style="vertical-align:top"><input class="form-textbox validate[limitDate]" id="year_58" name="q58_input58[year]" type="tel" size="4" data-maxlength="4" data-age="" maxLength="4" autoComplete="off" aria-labelledby="label_58 sublabel_58_year" value="2025" /><label class="form-sub-label" for="year_58" id="sublabel_58_year" style="min-height:13px">שנה</label></span></div><span class="form-sub-label-container" style="vertical-align:top"><input class="form-textbox validate[limitDate, validateLiteDate]" id="lite_mode_58" type="text" size="12" data-maxlength="12" maxLength="12" data-age="" data-format="ddmmyyyy" data-seperator="-" placeholder="DD-MM-YYYY" data-placeholder="DD-MM-YYYY" autoComplete="off" aria-labelledby="label_58 sublabel_58_litemode" value="16-12-2025" /><button type="button" class=" newDefaultTheme-dateIcon focusable icon-liteMode" id="input_58_pick" data-component="datetime" aria-hidden="true" data-allow-time="No" data-version="v2"></button><label class="form-sub-label" for="lite_mode_58" id="sublabel_58_litemode" style="min-height:13px">תאריך</label></span>
          </div>
        </div>
      </li>
      <li id="cid_6" class="form-input-wide" data-type="control_head">
        <div class="form-header-group  header-small">
          <div class="header-text httar htvam">
            <h3 id="header_6" class="form-header" data-component="header">פרטי החבר</h3>
          </div>
        </div>
      </li>
      <li class="form-line" data-type="control_number" id="id_57"><label class="form-label form-label-top form-label-auto" id="label_57" for="input_57" aria-hidden="false"> תעודת זהות </label>
        <div id="cid_57" class="form-input-wide" data-layout="half"> <input type="number" id="input_57" name="q57_input57" data-type="input-number" class=" form-number-input form-textbox" data-defaultvalue="" style="width:310px" size="310" placeholder="e.g., 23" data-component="number" aria-labelledby="label_57" step="any" value="" /> </div>
      </li>
      <li class="form-line" data-type="control_textbox" id="id_7"><label class="form-label form-label-top form-label-auto" id="label_7" for="input_7" aria-hidden="false"> שם משפחה </label>
        <div id="cid_7" class="form-input-wide" data-layout="half"> <input type="text" id="input_7" name="q7_smmsphh" data-type="input-textbox" class="form-textbox" data-defaultvalue="" style="width:20px" size="20" data-component="textbox" aria-labelledby="label_7" value="" /> </div>
      </li>
      <li class="form-line" data-type="control_textbox" id="id_8"><label class="form-label form-label-top form-label-auto" id="label_8" for="input_8" aria-hidden="false"> שם פרטי </label>
        <div id="cid_8" class="form-input-wide" data-layout="half"> <input type="text" id="input_8" name="q8_smprty" data-type="input-textbox" class="form-textbox" data-defaultvalue="" style="width:20px" size="20" data-component="textbox" aria-labelledby="label_8" value="" /> </div>
      </li>
      <li class="form-line" data-type="control_textbox" id="id_9"><label class="form-label form-label-top form-label-auto" id="label_9" for="input_9" aria-hidden="false"> שנת לידה </label>
        <div id="cid_9" class="form-input-wide" data-layout="half"> <input type="text" id="input_9" name="q9_sntlydh" data-type="input-textbox" class="form-textbox" data-defaultvalue="" style="width:20px" size="20" data-component="textbox" aria-labelledby="label_9" value="" /> </div>
      </li>
      <li class="form-line" data-type="control_textbox" id="id_13"><label class="form-label form-label-top form-label-auto" id="label_13" for="input_13" aria-hidden="false"> שם האב </label>
        <div id="cid_13" class="form-input-wide" data-layout="half"> <input type="text" id="input_13" name="q13_smh&#x27;b" data-type="input-textbox" class="form-textbox" data-defaultvalue="" style="width:20px" size="20" data-component="textbox" aria-labelledby="label_13" value="" /> </div>
      </li>
      <li class="form-line" data-type="control_textbox" id="id_15"><label class="form-label form-label-top form-label-auto" id="label_15" for="input_15" aria-hidden="false"> רחוב </label>
        <div id="cid_15" class="form-input-wide" data-layout="half"> <input type="text" id="input_15" name="q15_ktwbt" data-type="input-textbox" class="form-textbox" data-defaultvalue="" style="width:20px" size="20" data-component="textbox" aria-labelledby="label_15" value="" /> </div>
      </li>
      <li class="form-line" data-type="control_number" id="id_59"><label class="form-label form-label-top form-label-auto" id="label_59" for="input_59" aria-hidden="false"> מספר בית </label>
        <div id="cid_59" class="form-input-wide" data-layout="half"> <input type="number" id="input_59" name="q59_input59" data-type="input-number" class=" form-number-input form-textbox" data-defaultvalue="" style="width:310px" size="310" placeholder="e.g., 23" data-component="number" aria-labelledby="label_59" step="any" value="" /> </div>
      </li>
      <li class="form-line" data-type="control_textbox" id="id_16"><label class="form-label form-label-top form-label-auto" id="label_16" for="input_16" aria-hidden="false"> עיר </label>
        <div id="cid_16" class="form-input-wide" data-layout="half"> <input type="text" id="input_16" name="q16_yswb" data-type="input-textbox" class="form-textbox" data-defaultvalue="" style="width:20px" size="20" data-component="textbox" aria-labelledby="label_16" value="" /> </div>
      </li>
      <li class="form-line" data-type="control_phone" id="id_18"><label class="form-label form-label-top form-label-auto" id="label_18" for="input_18_full"> טלפון נייד: </label>
        <div id="cid_18" class="form-input-wide" data-layout="half"> <span class="form-sub-label-container" style="vertical-align:top"><input type="tel" id="input_18_full" name="q18_tlpwnnyyd[full]" data-type="input-tel" class="form-textbox" data-defaultvalue="" autoComplete="section-input_18 tel-national" style="width:310px" data-masked="false" placeholder="0501234567" data-component="phone" aria-labelledby="label_18" value="" inputmode="tel" pattern="[0-9]*" /></span> </div>
      </li>
      <li class="form-line" data-type="control_email" id="id_21"><label class="form-label form-label-top form-label-auto" id="label_21" for="input_21" aria-hidden="false"> דואר אלקטרוני: (E-mail) </label>
        <div id="cid_21" class="form-input-wide" data-layout="half"> <span class="form-sub-label-container" style="vertical-align:top"><input type="email" id="input_21" name="q21_dw&#x27;r&#x27;lqtrwny" class="form-textbox validate[Email]" data-defaultvalue="" autoComplete="section-input_21 email" style="width:30px" size="30" data-component="email" aria-labelledby="label_21 sublabel_input_21" value="" /><label class="form-sub-label" for="input_21" id="sublabel_input_21" style="min-height:13px">example@example.com</label></span> </div>
      </li>
      <li class="form-line" data-type="control_signature" id="id_22"><label class="form-label form-label-top form-label-auto" id="label_22" for="input_22" aria-hidden="false"> חתימה </label>
        <div id="cid_22" class="form-input-wide" data-layout="half">
          <div data-wrapper-react="true">
            <div id="signature_pad_22" class="signature-pad-wrapper">
              <div data-wrapper-react="true">
                <!--[if IE 7]><script type="text/javascript" src="/s/static/latest/js/vendor/json2.js"></script><![endif]-->
              </div>
              <div class="signature-line signature-wrapper signature-placeholder" data-component="signature">
                <div id="sig_pad_22" data-width="400" data-height="200" data-id="22" data-required="false" class="pad " aria-description="Use your pointer or touch input to draw your signature." aria-labelledby="label_22" tabindex="0"></div><input type="hidden" name="q22_htymh" class="output4" id="input_22" />
              </div>
              <aside class="signature-pad-aside"><span class="clear-pad-btn clear-pad" role="button" tabindex="0">Clear</span></aside>
            </div>
            <div data-wrapper-react="true">
              <script type="text/javascript">
                window.signatureForm = true
              </script>
            </div>
          </div>
        </div>
      </li>
      <li id="cid_23" class="form-input-wide" data-type="control_head">
        <div class="form-header-group  header-small">
          <div class="header-text httar htvam">
            <h3 id="header_23" class="form-header" data-component="header">פרטי בן/בת הזוג</h3>
          </div>
        </div>
      </li>
      <li class="form-line partner-section" data-type="control_checkbox" id="id_partner_checkbox" style="display: block;">
        <div id="cid_partner_checkbox" class="form-input-wide" data-layout="full">
          <div class="form-checkbox-group">
            <div class="form-checkbox-item">
              <input type="checkbox" id="input_partner_checkbox" name="q_partner_checkbox" value="יש לי בן/בת זוג" data-component="checkbox" />
              <label for="input_partner_checkbox" style="font-weight: bold; font-size: 16px; cursor: pointer;">יש לי בן/בת זוג</label>
            </div>
          </div>
        </div>
      </li>
      <li class="form-line partner-section" data-type="control_number" id="id_60" style="display: none;"><label class="form-label form-label-top form-label-auto" id="label_60" for="input_60" aria-hidden="false"> תעודת זהות בת/בן זוג </label>
        <div id="cid_60" class="form-input-wide" data-layout="half"> <input type="number" id="input_60" name="q60_input60" data-type="input-number" class=" form-number-input form-textbox" data-defaultvalue="" style="width:310px" size="310" placeholder="e.g., 23" data-component="number" aria-labelledby="label_60" step="any" value="" /> </div>
      </li>
      <li class="form-line partner-section" data-type="control_textbox" id="id_24" style="display: none;"><label class="form-label form-label-top form-label-auto" id="label_24" for="input_24" aria-hidden="false"> שם משפחה בת/בן זוג </label>
        <div id="cid_24" class="form-input-wide" data-layout="half"> <input type="text" id="input_24" name="q24_smmsphh24" data-type="input-textbox" class="form-textbox" data-defaultvalue="" style="width:20px" size="20" data-component="textbox" aria-labelledby="label_24" value="" /> </div>
      </li>
      <li class="form-line partner-section" data-type="control_textbox" id="id_25" style="display: none;"><label class="form-label form-label-top form-label-auto" id="label_25" for="input_25" aria-hidden="false"> שם פרטי בת/בן זוג </label>
        <div id="cid_25" class="form-input-wide" data-layout="half"> <input type="text" id="input_25" name="q25_smprty25" data-type="input-textbox" class="form-textbox" data-defaultvalue="" style="width:20px" size="20" data-component="textbox" aria-labelledby="label_25" value="" /> </div>
      </li>
      <li class="form-line partner-section" data-type="control_textbox" id="id_26" style="display: none;"><label class="form-label form-label-top form-label-auto" id="label_26" for="input_26" aria-hidden="false"> שנת לידה בת/בן זוג </label>
        <div id="cid_26" class="form-input-wide" data-layout="half"> <input type="text" id="input_26" name="q26_sntlydh26" data-type="input-textbox" class="form-textbox" data-defaultvalue="" style="width:20px" size="20" data-component="textbox" aria-labelledby="label_26" value="" /> </div>
      </li>
      <li class="form-line partner-section" data-type="control_textbox" id="id_30" style="display: none;"><label class="form-label form-label-top form-label-auto" id="label_30" for="input_30" aria-hidden="false"> שם האב בת/בן זוג </label>
        <div id="cid_30" class="form-input-wide" data-layout="half"> <input type="text" id="input_30" name="q30_smh&#x27;b30" data-type="input-textbox" class="form-textbox" data-defaultvalue="" style="width:20px" size="20" data-component="textbox" aria-labelledby="label_30" value="" /> </div>
      </li>
      <li class="form-line partner-section" data-type="control_phone" id="id_33" style="display: none;"><label class="form-label form-label-top form-label-auto" id="label_33" for="input_33_full"> טלפון נייד: </label>
        <div id="cid_33" class="form-input-wide" data-layout="half"> <span class="form-sub-label-container" style="vertical-align:top"><input type="tel" id="input_33_full" name="q33_tlpwnnyyd33[full]" data-type="input-tel" class="form-textbox" data-defaultvalue="" autoComplete="section-input_33 tel-national" style="width:310px" data-masked="false" placeholder="0501234567" data-component="phone" aria-labelledby="label_33" value="" inputmode="tel" pattern="[0-9]*" /></span> </div>
      </li>
      <li class="form-line partner-section" data-type="control_email" id="id_36" style="display: none;"><label class="form-label form-label-top form-label-auto" id="label_36" for="input_36" aria-hidden="false"> דואר אלקטרוני: (E-mail) בת/בן זוג </label>
        <div id="cid_36" class="form-input-wide" data-layout="half"> <span class="form-sub-label-container" style="vertical-align:top"><input type="email" id="input_36" name="q36_dw&#x27;r&#x27;lqtrwny36" class="form-textbox validate[Email]" data-defaultvalue="" autoComplete="section-input_36 email" style="width:30px" size="30" data-component="email" aria-labelledby="label_36 sublabel_input_36" value="" /><label class="form-sub-label" for="input_36" id="sublabel_input_36" style="min-height:13px">example@example.com</label></span> </div>
      </li>
      <li class="form-line partner-section" data-type="control_signature" id="id_37" style="display: none;"><label class="form-label form-label-top form-label-auto" id="label_37" for="input_37" aria-hidden="false"> חתימה בת/בן זוג </label>
        <div id="cid_37" class="form-input-wide" data-layout="half">
          <div data-wrapper-react="true">
            <div id="signature_pad_37" class="signature-pad-wrapper">
              <div data-wrapper-react="true">
                <!--[if IE 7]><script type="text/javascript" src="/s/static/latest/js/vendor/json2.js"></script><![endif]-->
              </div>
              <div class="signature-line signature-wrapper signature-placeholder" data-component="signature">
                <div id="sig_pad_37" data-width="400" data-height="200" data-id="37" data-required="false" class="pad " aria-description="Use your pointer or touch input to draw your signature." aria-labelledby="label_37" tabindex="0"></div><input type="hidden" name="q37_htymh37" class="output4" id="input_37" />
              </div>
              <aside class="signature-pad-aside"><span class="clear-pad-btn clear-pad" role="button" tabindex="0">Clear</span></aside>
            </div>
            <div data-wrapper-react="true">
              <script type="text/javascript">
                window.signatureForm = true
              </script>
            </div>
          </div>
        </div>
      </li>
      <li id="cid_38" class="form-input-wide" data-type="control_head">
        <div class="form-header-group  header-small">
          <div class="header-text httar htvam">
            <h3 id="header_38" class="form-header" data-component="header">הרשאה לתשלום דמי חבר שנתיים באמצעות הוראת קבע בכרטיס אשראי</h3>
          </div>
        </div>
      </li>
      <li class="form-line" data-type="control_textbox" id="id_40"><label class="form-label form-label-top form-label-auto" id="label_40" for="input_40" aria-hidden="false"> מספר אשראי </label>
        <div id="cid_40" class="form-input-wide" data-layout="half"> <input type="text" id="input_40" name="q40_mskrtys" data-type="input-textbox" class="form-textbox" data-defaultvalue="" style="width:20px" size="20" data-component="textbox" aria-labelledby="label_40" value="" /> </div>
      </li>
      <li class="form-line" data-type="control_textbox" id="id_61"><label class="form-label form-label-top form-label-auto" id="label_61" for="input_61" aria-hidden="false"> תוקף אשראי </label>
        <div id="cid_61" class="form-input-wide" data-layout="half"> <input type="text" id="input_61" name="q61_input61" data-type="input-textbox" class="form-textbox" data-defaultvalue="" style="width:310px" size="310" data-component="textbox" aria-labelledby="label_61" value="" /> </div>
      </li>
      <li class="form-line" data-type="control_textbox" id="id_42"><label class="form-label form-label-top form-label-auto" id="label_42" for="input_42" aria-hidden="false"> שם בעל הכרטיס </label>
        <div id="cid_42" class="form-input-wide" data-layout="half"> <input type="text" id="input_42" name="q42_smb&#x27;l" data-type="input-textbox" class="form-textbox" data-defaultvalue="" style="width:20px" size="20" data-component="textbox" aria-labelledby="label_42" value="" /> </div>
      </li>
      <li class="form-line" data-type="control_number" id="id_62"><label class="form-label form-label-top form-label-auto" id="label_62" for="input_62" aria-hidden="false"> תעודת זהות בעל הכרטיס </label>
        <div id="cid_62" class="form-input-wide" data-layout="half"> <input type="number" id="input_62" name="q62_input62" data-type="input-number" class=" form-number-input form-textbox" data-defaultvalue="" style="width:310px" size="310" placeholder="e.g., 23" data-component="number" aria-labelledby="label_62" step="any" value="" /> </div>
      </li>
      <li class="form-line" data-type="control_signature" id="id_44"><label class="form-label form-label-top form-label-auto" id="label_44" for="input_44" aria-hidden="false"> חתימה אמצעי תשלום </label>
        <div id="cid_44" class="form-input-wide" data-layout="half">
          <div data-wrapper-react="true">
            <div id="signature_pad_44" class="signature-pad-wrapper">
              <div data-wrapper-react="true">
                <!--[if IE 7]><script type="text/javascript" src="/s/static/latest/js/vendor/json2.js"></script><![endif]-->
              </div>
              <div class="signature-line signature-wrapper signature-placeholder" data-component="signature">
                <div id="sig_pad_44" data-width="400" data-height="200" data-id="44" data-required="false" class="pad " aria-description="Use your pointer or touch input to draw your signature." aria-labelledby="label_44" tabindex="0"></div><input type="hidden" name="q44_htymh44" class="output4" id="input_44" />
              </div>
              <aside class="signature-pad-aside"><span class="clear-pad-btn clear-pad" role="button" tabindex="0">Clear</span></aside>
            </div>
            <div data-wrapper-react="true">
              <script type="text/javascript">
                window.signatureForm = true
              </script>
            </div>
          </div>
        </div>
      </li>
      <li class="form-line" data-type="control_text" id="id_45">
        <div id="cid_45" class="form-input-wide" data-layout="full">
          <div id="text_45" class="form-html" data-component="text" tabindex="-1">
            <p style="text-align: center;"><strong>דמי החבר השנתיים הינם 64 ש"ח ליחיד ו- 96 ש"ח לזוג ויגבו ישירות ע"י  הליכוד</strong></p>
            <p style="text-align: center;"><strong>(לא ניתן לשלם בכרטיס אמריקן אקספרס או דיינרס)</strong></p>
          </div>
        </div>
      </li>
      <li class="form-line" data-type="control_button" id="id_56">
        <div id="cid_56" class="form-input-wide" data-layout="full">
          <div data-align="auto" class="form-buttons-wrapper form-buttons-auto   jsTest-button-wrapperField"><button id="input_preview_56" type="button" class="form-submit-preview jf-form-buttons" data-component="button"><img alt="" src="https://cdn.jotfor.ms/assets/img/theme-assets/5ca4930530899c64ff77cfa1/previewPDF-icon.svg" /><span id="span_preview_56" class="span_preview">תצוגה מקדימה PDF</span></button><span> </span><button id="input_56" type="submit" class="form-submit-button submit-button jf-form-buttons jsTest-submitField legacy-submit" data-component="button" data-content="">שליחה</button></div>
        </div>
      </li>
      <li style="display:none">Should be Empty: <input type="text" name="website" value="" type="hidden" /></li>
    </ul>
  </div>
  <script>
    JotForm.showJotFormPowered = "new_footer";
  </script>
  <script>
    JotForm.poweredByText = "Powered by Jotform";
  </script><input type="hidden" class="simple_spc" id="simple_spc" name="simple_spc" value="253492832169061" />
  <script type="text/javascript">
    var all_spc = document.querySelectorAll("form[id='253492832169061'] .si" + "mple" + "_spc");
    for (var i = 0; i < all_spc.length; i++)
    {
      all_spc[i].value = "253492832169061-253492832169061";
    }
  </script>
</form>
<!-- ================= אימות ת״ז + חסימה קשיחה ================= -->
<script>
function isValidIsraeliId(value) {
  let str = String(value || "").replace(/\D/g, "");
  if (str.length > 9) return false;
  while (str.length < 9) str = "0" + str;

  let sum = 0;
  for (let i = 0; i < 9; i++) {
    let n = Number(str[i]) * ((i % 2) + 1);
    if (n > 9) n -= 9;
    sum += n;
  }
  return sum % 10 === 0;
}

// פונקציה לזיהוי סוג כרטיס אשראי
function detectCardType(cardNumber) {
  const cleaned = String(cardNumber || "").replace(/\D/g, "");
  
  if (cleaned.length === 0) return null;
  
  // דיינרס קלאב: מתחיל ב-30, 36, 38, 39, 54, 55 (14 ספרות)
  if (cleaned.startsWith("30") || cleaned.startsWith("36") || 
      cleaned.startsWith("38") || cleaned.startsWith("39") ||
      cleaned.startsWith("54") || cleaned.startsWith("55")) {
    return "Diners Club";
  }
  
  // אמריקן אקספרס: מתחיל ב-34, 37 (15 ספרות)
  if (cleaned.startsWith("34") || cleaned.startsWith("37")) {
    return "American Express";
  }
  
  return null;
}

// בדיקת לוהן לווידוא שמדובר במספר כרטיס תקף
function isLuhnValid(cardNumber) {
  const cleaned = String(cardNumber || "").replace(/\D/g, "");
  if (!cleaned) return false;
  let sum = 0;
  let shouldDouble = false;
  for (let i = cleaned.length - 1; i >= 0; i--) {
    let digit = parseInt(cleaned[i], 10);
    if (shouldDouble) {
      digit *= 2;
      if (digit > 9) digit -= 9;
    }
    sum += digit;
    shouldDouble = !shouldDouble;
  }
  return sum % 10 === 0;
}

// פונקציה לאימות שדה תעודת זהות
function validateIdField(field, fieldName, checkAllFieldsCallback, showErrorsImmediately) {
  function normalize() {
    field.value = field.value.replace(/\D/g, "").slice(0, 9);
  }

  function isValidNow() {
    const value = field.value.replace(/\D/g, "");
    return value.length === 9 && isValidIsraeliId(value);
  }

  function showError() {
    const value = field.value.replace(/\D/g, "");
    if (value.length === 0) {
      field.setCustomValidity("חובה למלא " + fieldName);
      field.classList.add("field-error");
    } else if (value.length !== 9) {
      field.setCustomValidity("יש להזין 9 ספרות");
      field.classList.add("field-error");
    } else if (!isValidIsraeliId(value)) {
      field.setCustomValidity(fieldName + " אינו תקין");
      field.classList.add("field-error");
    } else {
      field.setCustomValidity("");
      field.classList.remove("field-error");
    }
    setTimeout(() => {
      if (field.checkValidity) {
        field.reportValidity();
      }
    }, 0);
  }

  function clearError() {
    field.setCustomValidity("");
    field.classList.remove("field-error");
  }

  field.addEventListener("input", () => {
    normalize();
    if (checkAllFieldsCallback) {
      setTimeout(() => {
        if (showErrorsImmediately && field.value.length > 0) {
          showError();
        } else if (!showErrorsImmediately) {
          clearError();
        }
        if (!isCheckingFields) {
          checkAllFieldsCallback();
        }
      }, 100);
    } else {
      if (showErrorsImmediately && field.value.length > 0) {
        showError();
      } else if (!showErrorsImmediately) {
        clearError();
      }
    }
  });

  field.addEventListener("blur", () => {
    normalize();
    if (checkAllFieldsCallback) {
      setTimeout(() => {
        if (field.value.length > 0) {
          showError();
        } else {
          clearError();
        }
        if (!isCheckingFields) {
          checkAllFieldsCallback();
        }
      }, 100);
    } else {
      if (field.value.length > 0) {
        showError();
      } else {
        clearError();
      }
    }
  });

  return { isValidNow, showError, normalize, clearError };
}

// פונקציה לאימות שדה טקסט חובה
function validateRequiredTextField(field, fieldName, checkAllFieldsCallback, showErrorsImmediately) {
  function isValidNow() {
    return field.value.trim().length > 0;
  }

  function showError() {
    if (field.value.trim().length === 0) {
      field.setCustomValidity("חובה למלא " + fieldName);
      field.classList.add("field-error");
    } else {
      field.setCustomValidity("");
      field.classList.remove("field-error");
    }
    setTimeout(() => {
      if (field.checkValidity) {
        field.reportValidity();
      }
    }, 0);
  }

  function clearError() {
    field.setCustomValidity("");
    field.classList.remove("field-error");
  }

  field.addEventListener("input", () => {
    if (checkAllFieldsCallback) {
      setTimeout(() => {
        if (showErrorsImmediately && field.value.trim().length > 0) {
          showError();
        } else if (!showErrorsImmediately) {
          clearError();
        }
        if (!isCheckingFields) {
          checkAllFieldsCallback();
        }
      }, 100);
    } else {
      if (showErrorsImmediately && field.value.trim().length > 0) {
        showError();
      } else if (!showErrorsImmediately) {
        clearError();
      }
    }
  });

  field.addEventListener("blur", () => {
    if (checkAllFieldsCallback) {
      setTimeout(() => {
        if (field.value.trim().length === 0) {
          showError();
        } else {
          clearError();
        }
        if (!isCheckingFields) {
          checkAllFieldsCallback();
        }
      }, 100);
    } else {
      if (field.value.trim().length === 0) {
        showError();
      } else {
        clearError();
      }
    }
  });

  return { isValidNow, showError, clearError };
}

// פונקציה לאימות שם משפחה (רק אותיות)
function validateLastName(field, fieldName, checkAllFieldsCallback, showErrorsImmediately) {
  function isValidNow() {
    const value = field.value.trim();
    if (value.length === 0) return false;
    return /^[\u0590-\u05FFa-zA-Z\s\-']+$/.test(value);
  }

  function showError() {
    const value = field.value.trim();
    if (value.length === 0) {
      field.setCustomValidity("חובה למלא " + fieldName);
      field.classList.add("field-error");
    } else if (!/^[\u0590-\u05FFa-zA-Z\s\-']+$/.test(value)) {
      field.setCustomValidity("שם משפחה יכול להכיל רק אותיות");
      field.classList.add("field-error");
    } else {
      field.setCustomValidity("");
      field.classList.remove("field-error");
    }
    setTimeout(() => {
      if (field.checkValidity) {
        field.reportValidity();
      }
    }, 0);
  }

  function clearError() {
    field.setCustomValidity("");
    field.classList.remove("field-error");
  }
  
  function removeNumbers() {
    const value = field.value;
    const newValue = value.replace(/[0-9]/g, "");
    if (value !== newValue) {
      field.value = newValue;
    }
  }

  field.addEventListener("input", () => {
    removeNumbers();
    if (checkAllFieldsCallback) {
      setTimeout(() => {
        if (showErrorsImmediately && field.value.trim().length > 0) {
          showError();
        } else if (!showErrorsImmediately) {
          clearError();
        }
        if (!isCheckingFields) {
          checkAllFieldsCallback();
        }
      }, 100);
    } else {
      if (showErrorsImmediately && field.value.trim().length > 0) {
        showError();
      } else if (!showErrorsImmediately) {
        clearError();
      }
    }
  });

  field.addEventListener("blur", () => {
    removeNumbers();
    if (checkAllFieldsCallback) {
      setTimeout(() => {
        if (field.value.trim().length === 0) {
          showError();
        } else if (!/^[\u0590-\u05FFa-zA-Z\s\-']+$/.test(field.value.trim())) {
          showError();
        } else {
          clearError();
        }
        if (!isCheckingFields) {
          checkAllFieldsCallback();
        }
      }, 100);
    } else {
      if (field.value.trim().length === 0) {
        showError();
      } else if (!/^[\u0590-\u05FFa-zA-Z\s\-']+$/.test(field.value.trim())) {
        showError();
      } else {
        clearError();
      }
    }
  });

  return { isValidNow, showError, clearError };
}

// פונקציה לאימות שדה טקסט (רק אותיות, ללא ספרות)
function validateTextOnly(field, fieldName, checkAllFieldsCallback, showErrorsImmediately) {
  function isValidNow() {
    const value = field.value.trim();
    if (value.length === 0) return false;
    return /^[\u0590-\u05FFa-zA-Z\s\-']+$/.test(value);
  }

  function showError() {
    const value = field.value.trim();
    if (value.length === 0) {
      field.setCustomValidity("חובה למלא " + fieldName);
      field.classList.add("field-error");
    } else if (!/^[\u0590-\u05FFa-zA-Z\s\-']+$/.test(value)) {
      field.setCustomValidity(fieldName + " יכול להכיל רק אותיות");
      field.classList.add("field-error");
    } else {
      field.setCustomValidity("");
      field.classList.remove("field-error");
    }
    setTimeout(() => {
      if (field.checkValidity) {
        field.reportValidity();
      }
    }, 0);
  }

  function clearError() {
    field.setCustomValidity("");
    field.classList.remove("field-error");
  }
  
  function removeNumbers() {
    const value = field.value;
    const newValue = value.replace(/[0-9]/g, "");
    if (value !== newValue) {
      field.value = newValue;
    }
  }

  field.addEventListener("input", (e) => {
    removeNumbers();
    if (checkAllFieldsCallback) {
      setTimeout(() => {
        if (showErrorsImmediately && field.value.trim().length > 0) {
          showError();
        } else if (!showErrorsImmediately) {
          clearError();
        }
        if (!isCheckingFields) {
          checkAllFieldsCallback();
        }
      }, 100);
    } else {
      if (showErrorsImmediately && field.value.trim().length > 0) {
        showError();
      } else if (!showErrorsImmediately) {
        clearError();
      }
    }
  });

  field.addEventListener("blur", () => {
    removeNumbers();
    if (checkAllFieldsCallback) {
      setTimeout(() => {
        if (field.value.trim().length === 0) {
          showError();
        } else if (!/^[\u0590-\u05FFa-zA-Z\s\-']+$/.test(field.value.trim())) {
          showError();
        } else {
          clearError();
        }
        if (!isCheckingFields) {
          checkAllFieldsCallback();
        }
      }, 100);
    } else {
      if (field.value.trim().length === 0) {
        showError();
      } else if (!/^[\u0590-\u05FFa-zA-Z\s\-']+$/.test(field.value.trim())) {
        showError();
      } else {
        clearError();
      }
    }
  });

  return { isValidNow, showError, clearError };
}

// פונקציה לאימות טלפון (מציגה שגיאה ישירות בשדה)
function validatePhone(field, fieldName, checkAllFieldsCallback, showErrorsImmediately) {
  function isValidNow() {
    const value = field.value.replace(/\D/g, "");
    if (value.length === 0) return false;
    if (value.length < 9 || value.length > 10) return false;
    if (value.length === 10) {
      if (!value.startsWith("0")) return false;
    } else if (value.length === 9) {
      if (!value.startsWith("972")) return false;
    }
    return true;
  }

  function showError() {
    const value = field.value.replace(/\D/g, "");
    if (value.length === 0) {
      field.setCustomValidity("חובה למלא " + fieldName);
      field.classList.add("field-error");
    } else if (value.length < 9 || value.length > 10) {
      field.setCustomValidity("מספר טלפון אינו תקין");
      field.classList.add("field-error");
    } else if (value.length === 10 && !value.startsWith("0")) {
      field.setCustomValidity("מספר טלפון אינו תקין");
      field.classList.add("field-error");
    } else if (value.length === 9 && !value.startsWith("972")) {
      field.setCustomValidity("מספר טלפון אינו תקין");
      field.classList.add("field-error");
    } else {
      field.setCustomValidity("");
      field.classList.remove("field-error");
    }
    setTimeout(() => {
      if (field.checkValidity) {
        field.reportValidity();
      }
    }, 0);
  }

  function clearError() {
    field.setCustomValidity("");
    field.classList.remove("field-error");
  }
  
  function normalizePhone() {
    let value = field.value.replace(/\D/g, "");
    value = value.slice(0, 10);
    if (field.value !== value) {
      field.value = value;
    }
  }

  field.addEventListener("input", () => {
    normalizePhone();
    if (checkAllFieldsCallback) {
      setTimeout(() => {
        if (showErrorsImmediately && field.value.replace(/\D/g, "").length > 0) {
          showError();
        } else if (!showErrorsImmediately) {
          clearError();
        }
        if (!isCheckingFields) {
          checkAllFieldsCallback();
        }
      }, 100);
    } else {
      if (showErrorsImmediately && field.value.replace(/\D/g, "").length > 0) {
        showError();
      } else if (!showErrorsImmediately) {
        clearError();
      }
    }
  });

  field.addEventListener("blur", () => {
    normalizePhone();
    if (checkAllFieldsCallback) {
      setTimeout(() => {
        const value = field.value.replace(/\D/g, "");
        if (value.length === 0) {
          showError();
        } else if (value.length < 9 || value.length > 10) {
          showError();
        } else if (value.length === 10 && !value.startsWith("0")) {
          showError();
        } else if (value.length === 9 && !value.startsWith("972")) {
          showError();
        } else {
          clearError();
        }
        if (!isCheckingFields) {
          checkAllFieldsCallback();
        }
      }, 100);
    } else {
      const value = field.value.replace(/\D/g, "");
      if (value.length === 0) {
        showError();
      } else if (value.length < 9 || value.length > 10) {
        showError();
      } else if (value.length === 10 && !value.startsWith("0")) {
        showError();
      } else if (value.length === 9 && !value.startsWith("972")) {
        showError();
      } else {
        clearError();
      }
    }
  });

  return { isValidNow, showError, clearError };
}

// פונקציה לאימות שם בעל הכרטיס (חייב להיות שני מילים)
function validateCardOwnerName(field, fieldName, checkAllFieldsCallback, showErrorsImmediately) {
  function isValidNow() {
    const value = field.value.trim();
    if (value.length === 0) return false;
    const words = value.split(/\s+/).filter(word => word.length > 0);
    return words.length >= 2;
  }

  function showError() {
    const value = field.value.trim();
    if (value.length === 0) {
      field.setCustomValidity("חובה למלא " + fieldName);
      field.classList.add("field-error");
    } else {
      const words = value.split(/\s+/).filter(word => word.length > 0);
      if (words.length < 2) {
        field.setCustomValidity("שם בעל הכרטיס חייב להכיל לפחות שני מילים");
        field.classList.add("field-error");
      } else {
        field.setCustomValidity("");
        field.classList.remove("field-error");
      }
    }
    setTimeout(() => {
      if (field.checkValidity) {
        field.reportValidity();
      }
    }, 0);
  }

  function clearError() {
    field.setCustomValidity("");
    field.classList.remove("field-error");
  }

  field.addEventListener("input", () => {
    if (checkAllFieldsCallback) {
      setTimeout(() => {
        if (showErrorsImmediately && field.value.trim().length > 0) {
          showError();
        } else if (!showErrorsImmediately) {
          clearError();
        }
        if (!isCheckingFields) {
          checkAllFieldsCallback();
        }
      }, 100);
    } else {
      if (showErrorsImmediately && field.value.trim().length > 0) {
        showError();
      } else if (!showErrorsImmediately) {
        clearError();
      }
    }
  });

  field.addEventListener("blur", () => {
    if (checkAllFieldsCallback) {
      setTimeout(() => {
        if (field.value.trim().length === 0) {
          showError();
        } else {
          const words = field.value.trim().split(/\s+/).filter(word => word.length > 0);
          if (words.length < 2) {
            showError();
          } else {
            clearError();
          }
        }
        if (!isCheckingFields) {
          checkAllFieldsCallback();
        }
      }, 100);
    } else {
      if (field.value.trim().length === 0) {
        showError();
      } else {
        const words = field.value.trim().split(/\s+/).filter(word => word.length > 0);
        if (words.length < 2) {
          showError();
        } else {
          clearError();
        }
      }
    }
  });

  return { isValidNow, showError, clearError };
}

// פונקציה לאימות חתימה
function validateSignatureField(field, fieldName, checkAllFieldsCallback, showErrorsImmediately) {
  function isValidNow() {
    let value = field.value || "";
    
    if (!value || value.trim().length === 0 || value === "[]" || value === "{}") {
      const pad = document.getElementById(field.id.replace("input_", "sig_pad_"));
      if (pad && typeof jQuery !== "undefined" && jQuery(pad).jSignature) {
        try {
          const sigData = jQuery(pad).jSignature('getData', 'base30');
          if (sigData && sigData[1] && sigData[1].length > 0) {
            return true;
          }
        } catch (e) {
        }
      }
      return false;
    }
    
    return value.trim().length > 0 && value !== "[]" && value !== "{}";
  }

  function showError() {
    if (!isValidNow()) {
      field.setCustomValidity("חובה למלא " + fieldName);
    } else {
      field.setCustomValidity("");
    }
    const pad = document.getElementById(field.id.replace("input_", "sig_pad_"));
    if (pad) {
      pad.setAttribute("aria-invalid", !isValidNow());
      if (!isValidNow()) {
        pad.classList.add("signature-error");
      } else {
        pad.classList.remove("signature-error");
      }
    }
    setTimeout(() => {
      if (field.checkValidity) {
        field.reportValidity();
      }
    }, 0);
  }

  function clearError() {
    field.setCustomValidity("");
    const pad = document.getElementById(field.id.replace("input_", "sig_pad_"));
    if (pad) {
      pad.setAttribute("aria-invalid", "false");
      pad.classList.remove("signature-error");
    }
  }

  const pad = document.getElementById(field.id.replace("input_", "sig_pad_"));
  if (pad) {
    if (typeof jQuery !== "undefined" && jQuery(pad).jSignature) {
      jQuery(pad).on("change", () => {
        setTimeout(() => {
          if (isValidNow()) {
            clearError();
          } else {
            showError();
          }
          if (checkAllFieldsCallback) {
            setTimeout(() => {
              if (!isCheckingFields) {
                checkAllFieldsCallback();
              }
            }, 200);
          }
        }, 100);
      });
    }
    
    pad.addEventListener("mouseup", () => {
      setTimeout(() => {
        if (isValidNow()) {
          clearError();
        } else {
          showError();
        }
        if (checkAllFieldsCallback) {
          setTimeout(() => {
            if (!isCheckingFields) {
              checkAllFieldsCallback();
            }
          }, 200);
        }
      }, 200);
    });
    
    pad.addEventListener("touchend", () => {
      setTimeout(() => {
        if (isValidNow()) {
          clearError();
        } else {
          showError();
        }
        if (checkAllFieldsCallback) {
          setTimeout(() => {
            if (!isCheckingFields) {
              checkAllFieldsCallback();
            }
          }, 200);
        }
      }, 200);
    });
  }

  field.addEventListener("input", () => {
    setTimeout(() => {
      if (isValidNow()) {
        clearError();
      } else {
        showError();
      }
      if (checkAllFieldsCallback) {
        setTimeout(() => {
          if (!isCheckingFields) {
            checkAllFieldsCallback();
          }
        }, 200);
      }
    }, 100);
  });
  
  const clearBtn = pad ? pad.closest(".signature-pad-wrapper")?.querySelector(".clear-pad") : null;
  if (clearBtn) {
    clearBtn.addEventListener("click", () => {
      setTimeout(() => {
        if (isValidNow()) {
          clearError();
        } else {
          showError();
        }
        if (checkAllFieldsCallback) {
          setTimeout(() => {
            if (!isCheckingFields) {
              checkAllFieldsCallback();
            }
          }, 100);
        }
      }, 100);
    });
  }

  return { isValidNow, showError, clearError };
}

// פונקציה לאימות תוקף אשראי
function validateCreditCardExpiry(field, fieldName, checkAllFieldsCallback, showErrorsImmediately) {
  function normalize() {
    let value = field.value.replace(/\D/g, "");
    value = value.slice(0, 4);
    if (value.length === 4) {
      const formatted = value.slice(0, 2) + "/" + value.slice(2, 4);
      if (field.value !== formatted) {
        field.value = formatted;
      }
    } else if (value.length > 0 && value.length < 4) {
      if (field.value.replace(/\D/g, "") !== value) {
        field.value = value;
      }
    }
  }

  function isValidNow() {
    const value = field.value.replace(/\D/g, "");
    if (value.length !== 4) return false;
    
    const month = parseInt(value.slice(0, 2), 10);
    const year = parseInt(value.slice(2, 4), 10);
    
    if (isNaN(month) || month < 1 || month > 12) return false;
    
    const now = new Date();
    const currentYear = now.getFullYear() % 100;
    const currentMonth = now.getMonth() + 1;
    
    if (isNaN(year) || year < currentYear) return false;
    if (year === currentYear && month < currentMonth) return false;
    
    return true;
  }

  function showError() {
    const value = field.value.replace(/\D/g, "");
    if (value.length === 0) {
      field.setCustomValidity("חובה למלא " + fieldName);
      field.classList.add("field-error");
    } else if (value.length !== 4) {
      field.setCustomValidity("יש להזין 4 ספרות בפורמט MM/YY");
      field.classList.add("field-error");
    } else {
      const month = parseInt(value.slice(0, 2), 10);
      const year = parseInt(value.slice(2, 4), 10);
      
      if (month < 1 || month > 12) {
        field.setCustomValidity("חודש לא תקין (חייב להיות בין 01 ל-12)");
        field.classList.add("field-error");
      } else {
        const now = new Date();
        const currentYear = now.getFullYear() % 100;
        const currentMonth = now.getMonth() + 1;
        
        if (year < currentYear || (year === currentYear && month < currentMonth)) {
          field.setCustomValidity("תוקף הכרטיס פג");
          field.classList.add("field-error");
        } else {
          field.setCustomValidity("");
          field.classList.remove("field-error");
        }
      }
    }
    setTimeout(() => {
      if (field.checkValidity) {
        field.reportValidity();
      }
    }, 0);
  }

  function clearError() {
    field.setCustomValidity("");
    field.classList.remove("field-error");
  }

  field.addEventListener("input", () => {
    normalize();
    if (checkAllFieldsCallback) {
      setTimeout(() => {
        if (showErrorsImmediately && field.value.replace(/\D/g, "").length > 0) {
          showError();
        } else if (!showErrorsImmediately) {
          clearError();
        }
        if (!isCheckingFields) {
          checkAllFieldsCallback();
        }
      }, 100);
    } else {
      if (showErrorsImmediately && field.value.replace(/\D/g, "").length > 0) {
        showError();
      } else if (!showErrorsImmediately) {
        clearError();
      }
    }
  });

  field.addEventListener("blur", () => {
    normalize();
    if (checkAllFieldsCallback) {
      setTimeout(() => {
        if (field.value.replace(/\D/g, "").length > 0) {
          showError();
        } else {
          clearError();
        }
        if (!isCheckingFields) {
          checkAllFieldsCallback();
        }
      }, 100);
    } else {
      if (field.value.replace(/\D/g, "").length > 0) {
        showError();
      } else {
        clearError();
      }
    }
  });

  return { isValidNow, showError, normalize, clearError };
}

// מחכה ל-JotForm להיטען לפני הפעלת האימות
function initIdValidation() {
  const tz = document.getElementById("input_57");
  const tzCardOwner = document.getElementById("input_62");
  const tzPartner = document.getElementById("input_60");
  const creditCard = document.getElementById("input_40");
  const btn = document.querySelector(".legacy-submit") || document.querySelector(".useJotformSign-button") || document.querySelector("button.jsTest-submitField[type='submit']");
  
  let hasAttemptedSubmit = false;

  if (!tz || !tzCardOwner || !btn) {
    setTimeout(initIdValidation, 100);
    return;
  }

  const tzValidation = validateIdField(tz, "מספר זהות", null, false);
  const tzCardOwnerValidation = validateIdField(tzCardOwner, "תעודת זהות בעל הכרטיס", null, false);
  
  let tzPartnerValidation = null;
  if (tzPartner) {
    tzPartnerValidation = validateIdField(tzPartner, "תז בת זוג", null, false);
  }

  let creditCardValidation = null;
  if (creditCard) {
    creditCard.setAttribute("data-mask", "false");
    creditCard.setAttribute("data-no-mask", "true");
    creditCard.setAttribute("data-is-credit-card", "false");
    creditCard.setAttribute("data-payment-field", "false");
    creditCard.setAttribute("data-credit-card-field", "false");
    creditCard.setAttribute("data-type", "input-textbox-custom");
    creditCard.setAttribute("data-component", "textbox-custom");
    creditCard.setAttribute("maxlength", "20");
    if (creditCard.closest) {
      const formLine = creditCard.closest(".form-line");
      if (formLine) {
        formLine.setAttribute("data-no-mask", "true");
        formLine.setAttribute("data-is-credit-card", "false");
        formLine.setAttribute("data-payment-field", "false");
      }
    }
    function validateCreditCard(showErrors) {
      const cardNumber = creditCard.value.replace(/\D/g, "");
      const cardType = detectCardType(cardNumber);
      const isEmpty = cardNumber.length === 0;
      
      if (!showErrors) {
        creditCard.setCustomValidity("");
        creditCard.classList.remove("field-error");
        return;
      }
      
      if (isEmpty) {
        creditCard.setCustomValidity("חובה למלא מספר כרטיס אשראי");
        creditCard.classList.add("field-error");
      } else if (!/^\d{12,19}$/.test(cardNumber)) {
        creditCard.setCustomValidity("מספר כרטיס אשראי אינו בטווח תקין");
        creditCard.classList.add("field-error");
      } else if (!isLuhnValid(cardNumber)) {
        creditCard.setCustomValidity("יש שגיאה במספר אשראי");
        creditCard.classList.add("field-error");
      } else if (cardType === "Diners Club") {
        creditCard.setCustomValidity("כרטיס Diners Club לא נתמך");
        creditCard.classList.add("field-error");
      } else if (cardType === "American Express") {
        creditCard.setCustomValidity("כרטיס American Express לא נתמך");
        creditCard.classList.add("field-error");
      } else {
        creditCard.setCustomValidity("");
        creditCard.classList.remove("field-error");
      }
      setTimeout(() => {
        if (creditCard.checkValidity) {
          creditCard.reportValidity();
        }
      }, 0);
    }
    
    function isCreditCardValid() {
      const cardNumber = creditCard.value.replace(/\D/g, "");
      if (cardNumber.length === 0) return false;
      const cardType = detectCardType(cardNumber);
      const lengthOk = /^\d{12,19}$/.test(cardNumber);
      const luhnOk = isLuhnValid(cardNumber);
      const supportedType = cardType !== "Diners Club" && cardType !== "American Express";
      return lengthOk && luhnOk && supportedType;
    }
    
    function normalizeCreditCard() {
      let value = creditCard.value.replace(/[^\d.]/g, "");
      if (value.length > 20) {
        value = value.slice(0, 20);
      }
      
      let formatted = "";
      const digitsOnly = value.replace(/\./g, "");
      if (digitsOnly.length > 0) {
        if (digitsOnly.length === 1) {
          formatted = "." + digitsOnly;
        } else {
          formatted = digitsOnly.slice(0, -1) + "." + digitsOnly.slice(-1);
        }
      }
      
      if (creditCard.value !== formatted) {
        creditCard.value = formatted;
      }
    }
    
    creditCard.addEventListener("input", () => {
      normalizeCreditCard();
      validateCreditCard(false);
      setTimeout(() => {
        if (!isCheckingFields) {
          checkAllFields(false);
        }
      }, 300);
    });
    
    creditCard.addEventListener("blur", () => {
      normalizeCreditCard();
      const cardNumber = creditCard.value.replace(/\D/g, "");
      if (cardNumber.length > 0) {
        validateCreditCard(true);
      } else {
        validateCreditCard(false);
      }
      setTimeout(() => {
        if (!isCheckingFields) {
          checkAllFields(false);
        }
      }, 100);
    });
    
    creditCardValidation = { isValidNow: isCreditCardValid, showError: () => validateCreditCard(true) };
    
    if (window.JotForm && window.JotForm.setFieldMask) {
      try {
        window.JotForm.setFieldMask("40", false);
      } catch (e) {
        console.log("Could not disable masking via JotForm API");
      }
    }
    
    if (window.JotForm && window.JotForm.fieldSettings) {
      try {
        const fieldSettings = window.JotForm.fieldSettings || {};
        if (fieldSettings["40"]) {
          fieldSettings["40"].mask = false;
          fieldSettings["40"].noMask = true;
          fieldSettings["40"].maskCreditCard = false;
        }
        if (!fieldSettings["40"]) {
          fieldSettings["40"] = {
            mask: false,
            noMask: true,
            maskCreditCard: false
          };
        }
      } catch (e) {
        console.log("Could not disable masking via field settings");
      }
    }
    
    if (window.JotForm && window.JotForm.setFieldProperty) {
      try {
        window.JotForm.setFieldProperty("40", "mask", false);
        window.JotForm.setFieldProperty("40", "noMask", true);
        window.JotForm.setFieldProperty("40", "maskCreditCard", false);
      } catch (e) {
        console.log("Could not disable masking via setFieldProperty");
      }
    }
    
    if (typeof jQuery !== "undefined" && jQuery(creditCard).length) {
      try {
        jQuery(creditCard).attr("data-mask", "false");
        jQuery(creditCard).attr("data-no-mask", "true");
        jQuery(creditCard).removeAttr("data-mask-credit-card");
        jQuery(creditCard).data("mask", false);
        jQuery(creditCard).data("noMask", true);
      } catch (e) {
        console.log("Could not disable masking via jQuery");
      }
    }
    
    if (window.JotForm) {
      const originalSubmit = window.JotForm.submitForm || window.JotForm.submit;
      if (originalSubmit) {
        window.JotForm.submitForm = function() {
          if (creditCard) {
            creditCard.setAttribute("data-mask", "false");
            creditCard.setAttribute("data-no-mask", "true");
            creditCard.removeAttribute("data-mask-credit-card");
          }
          return originalSubmit.apply(this, arguments);
        };
      }
      
      if (window.JotForm.generatePDF) {
        const originalGeneratePDF = window.JotForm.generatePDF;
        window.JotForm.generatePDF = function() {
          if (creditCard) {
            creditCard.setAttribute("data-mask", "false");
            creditCard.setAttribute("data-no-mask", "true");
            creditCard.removeAttribute("data-mask-credit-card");
          }
          return originalGeneratePDF.apply(this, arguments);
        };
      }
      
      if (window.JotForm.submitForm || window.JotForm.submit) {
        const originalSubmit = window.JotForm.submitForm || window.JotForm.submit;
        const submitFunction = function() {
          if (creditCard) {
            creditCard.setAttribute("data-mask", "false");
            creditCard.setAttribute("data-no-mask", "true");
            creditCard.removeAttribute("data-mask-credit-card");
          }
          return originalSubmit.apply(this, arguments);
        };
        if (window.JotForm.submitForm) {
          window.JotForm.submitForm = submitFunction;
        }
        if (window.JotForm.submit) {
          window.JotForm.submit = submitFunction;
        }
      }
      
      if (typeof MutationObserver !== "undefined") {
        const observer = new MutationObserver(function(mutations) {
          mutations.forEach(function(mutation) {
            if (mutation.type === "attributes" && mutation.target === creditCard) {
              if (creditCard.getAttribute("data-mask") !== "false") {
                creditCard.setAttribute("data-mask", "false");
                creditCard.setAttribute("data-no-mask", "true");
                creditCard.removeAttribute("data-mask-credit-card");
              }
            }
          });
        });
        
        observer.observe(creditCard, {
          attributes: true,
          attributeFilter: ["data-mask", "data-no-mask", "data-mask-credit-card"]
        });
      }
      
      const form = creditCard.closest("form");
      if (form) {
        form.addEventListener("submit", function(e) {
          if (creditCard) {
            creditCard.setAttribute("data-mask", "false");
            creditCard.setAttribute("data-no-mask", "true");
            creditCard.removeAttribute("data-mask-credit-card");
          }
        }, true);
      }
    }
  }

  const firstName = document.getElementById("input_8");
  const lastName = document.getElementById("input_7");
  const city = document.getElementById("input_16");
  const street = document.getElementById("input_15");
  const signature = document.getElementById("input_22");
  const cardExpiry = document.getElementById("input_61");
  const cardOwnerName = document.getElementById("input_42");
  const phone = document.getElementById("input_18_full");
  const fatherName = document.getElementById("input_13");
  const birthYear = document.getElementById("input_9");
  const paymentSignature = document.getElementById("input_44");
  
  const partnerFirstName = document.getElementById("input_25");
  const partnerLastName = document.getElementById("input_24");
  const partnerBirthYear = document.getElementById("input_26");
  const partnerFatherName = document.getElementById("input_30");
  const partnerPhone = document.getElementById("input_33_full");
  const partnerSignature = document.getElementById("input_37");

  const firstNameValidation = firstName ? validateTextOnly(firstName, "שם פרטי", null, false) : null;
  const lastNameValidation = lastName ? validateLastName(lastName, "שם משפחה", null, false) : null;
  const cityValidation = city ? validateTextOnly(city, "עיר", null, false) : null;
  const streetValidation = street ? validateTextOnly(street, "רחוב", null, false) : null;
  const signatureValidation = signature ? validateSignatureField(signature, "חתימה", null, false) : null;
  const cardExpiryValidation = cardExpiry ? validateCreditCardExpiry(cardExpiry, "תוקף אשראי", null, false) : null;
  const cardOwnerNameValidation = cardOwnerName ? validateCardOwnerName(cardOwnerName, "שם בעל הכרטיס", null, false) : null;
  const phoneValidation = phone ? validatePhone(phone, "טלפון", null, false) : null;
  
  if (phone) {
    phone.setAttribute("maxlength", "10");
    // ביטול מסכת הטלפון של JotForm
    phone.setAttribute("data-masked", "false");
    phone.setAttribute("data-type", "input-tel");
    phone.classList.remove("mask-phone-number");
    phone.classList.remove("validate[Fill Mask]");
    phone.removeAttribute("data-mask");
    phone.setAttribute("inputmode", "tel");
    phone.setAttribute("pattern", "[0-9]*");
    phone.placeholder = "0501234567";
    // ביטול המסכה דרך JotForm API
    if (window.JotForm && window.JotForm.setFieldMask) {
      try {
        window.JotForm.setFieldMask("18", false);
      } catch (e) {}
    }
  }
  const fatherNameValidation = fatherName ? validateTextOnly(fatherName, "שם האב", null, false) : null;
  // פונקציה לאימות שנת לידה (רק מספרים, 4 ספרות)
  function validateBirthYear(field, fieldName, checkAllFieldsCallback, showErrorsImmediately) {
    function normalize() {
      let value = field.value.replace(/\D/g, "");
      value = value.slice(0, 4);
      if (field.value !== value) {
        field.value = value;
      }
    }
    
    function isValidNow() {
      const value = field.value.replace(/\D/g, "");
      if (value.length === 0) return false;
      if (value.length !== 4) return false;
      const year = parseInt(value, 10);
      if (isNaN(year)) return false;
      const currentYear = new Date().getFullYear();
      return year >= 1900 && year <= currentYear;
    }
    
    function showError() {
      const value = field.value.replace(/\D/g, "");
      if (value.length === 0) {
        field.setCustomValidity("חובה למלא " + fieldName);
        field.classList.add("field-error");
      } else if (value.length !== 4) {
        field.setCustomValidity("יש להזין 4 ספרות");
        field.classList.add("field-error");
      } else {
        const year = parseInt(value, 10);
        const currentYear = new Date().getFullYear();
        if (isNaN(year) || year < 1900 || year > currentYear) {
          field.setCustomValidity("שנת לידה לא תקינה");
          field.classList.add("field-error");
        } else {
          field.setCustomValidity("");
          field.classList.remove("field-error");
        }
      }
      setTimeout(() => {
        if (field.checkValidity) {
          field.reportValidity();
        }
      }, 0);
    }
    
    function clearError() {
      field.setCustomValidity("");
      field.classList.remove("field-error");
    }
    
    field.addEventListener("input", () => {
      normalize();
      if (checkAllFieldsCallback) {
        setTimeout(() => {
          if (showErrorsImmediately && field.value.replace(/\D/g, "").length > 0) {
            showError();
          } else if (!showErrorsImmediately) {
            clearError();
          }
          if (!isCheckingFields) {
            checkAllFieldsCallback();
          }
        }, 100);
      } else {
        if (showErrorsImmediately && field.value.replace(/\D/g, "").length > 0) {
          showError();
        } else if (!showErrorsImmediately) {
          clearError();
        }
      }
    });
    
    field.addEventListener("blur", () => {
      normalize();
      if (checkAllFieldsCallback) {
        setTimeout(() => {
          if (field.value.replace(/\D/g, "").length > 0) {
            showError();
          } else {
            clearError();
          }
          if (!isCheckingFields) {
            checkAllFieldsCallback();
          }
        }, 100);
      } else {
        if (field.value.replace(/\D/g, "").length > 0) {
          showError();
        } else {
          clearError();
        }
      }
    });
    
    field.setAttribute("maxlength", "4");
    field.setAttribute("inputmode", "numeric");
    field.setAttribute("pattern", "[0-9]*");
    
    return { isValidNow, showError, clearError };
  }
  const birthYearValidation = birthYear ? validateBirthYear(birthYear, "שנת לידה", null, false) : null;
  const paymentSignatureValidation = paymentSignature ? validateSignatureField(paymentSignature, "חתימה אמצעי תשלום", null, false) : null;
  
  let partnerFirstNameValidation = null;
  let partnerLastNameValidation = null;
  let partnerBirthYearValidation = null;
  let partnerFatherNameValidation = null;
  let partnerPhoneValidation = null;
  let partnerSignatureValidation = null;
  if (partnerFirstName) {
    partnerFirstNameValidation = validateRequiredTextField(partnerFirstName, "שם פרטי בת זוג", null, false);
  }
  if (partnerLastName) {
    partnerLastNameValidation = validateRequiredTextField(partnerLastName, "שם משפחה בת זוג", null, false);
  }
  if (partnerBirthYear) {
    partnerBirthYearValidation = validateBirthYear(partnerBirthYear, "שנת לידה בת זוג", null, false);
  }
  if (partnerFatherName) {
    partnerFatherNameValidation = validateTextOnly(partnerFatherName, "שם האב בת זוג", null, false);
  }
  if (partnerPhone) {
    partnerPhoneValidation = validatePhone(partnerPhone, "טלפון בת זוג", null, false);
    partnerPhone.setAttribute("maxlength", "10");
    // ביטול מסכת הטלפון של JotForm
    partnerPhone.setAttribute("data-masked", "false");
    partnerPhone.setAttribute("data-type", "input-tel");
    partnerPhone.classList.remove("mask-phone-number");
    partnerPhone.classList.remove("validate[Fill Mask]");
    partnerPhone.removeAttribute("data-mask");
    partnerPhone.setAttribute("inputmode", "tel");
    partnerPhone.setAttribute("pattern", "[0-9]*");
    partnerPhone.placeholder = "0501234567";
    // ביטול המסכה דרך JotForm API
    if (window.JotForm && window.JotForm.setFieldMask) {
      try {
        window.JotForm.setFieldMask("33", false);
      } catch (e) {}
    }
  }
  if (partnerSignature) {
    partnerSignatureValidation = validateSignatureField(partnerSignature, "חתימה בת זוג", null, false);
  }

  if (cardExpiry) {
    const expiryWrapper = cardExpiry.closest(".form-input") || cardExpiry.closest(".form-input-wide");
    if (expiryWrapper && !expiryWrapper.querySelector(".expiry-help-text")) {
      const helpText = document.createElement("div");
      helpText.className = "expiry-help-text";
      helpText.style.cssText = "font-size: 12px; color: #666; margin-top: 5px; text-align: right; direction: rtl;";
      helpText.textContent = "הזן בפורמט MM/YY (לדוגמה: 12/25 עבור דצמבר 2025)";
      expiryWrapper.appendChild(helpText);
    }
  }

  const btnWrapper = btn.closest(".form-buttons-wrapper");
  let statusMessage = document.getElementById("form-status-message");
  if (!statusMessage && btnWrapper) {
    statusMessage = document.createElement("div");
    statusMessage.id = "form-status-message";
    statusMessage.style.cssText = "display: block; margin-top: 15px; margin-bottom: 15px; padding: 15px; background-color: #ffebee; border: 2px solid #d32f2f; border-radius: 5px; color: #d32f2f; font-size: 16px; font-weight: bold; text-align: center; min-height: 20px; direction: rtl;";
    btnWrapper.parentNode.insertBefore(statusMessage, btnWrapper);
  }

  let isCheckingFields = false;
  
  function checkIdField(field) {
    if (!field) return true;
    const value = field.value.replace(/\D/g, "");
    if (value.length === 0) return false;
    if (value.length !== 9) return false;
    return isValidIsraeliId(value);
  }
  
  function checkRequiredTextField(field) {
    if (!field) return true;
    return field.value.trim().length > 0;
  }
  
  function checkTextOnly(field) {
    if (!field) return true;
    const value = field.value.trim();
    if (value.length === 0) return false;
    return /^[\u0590-\u05FFa-zA-Z\s\-']+$/.test(value);
  }
  
  function checkSignatureField(field) {
    if (!field) return true;
    let value = field.value || "";
    if (!value || value.trim().length === 0 || value === "[]" || value === "{}") {
      const pad = document.getElementById(field.id.replace("input_", "sig_pad_"));
      if (pad && typeof jQuery !== "undefined" && jQuery(pad).jSignature) {
        try {
          const sigData = jQuery(pad).jSignature('getData', 'base30');
          if (sigData && sigData[1] && sigData[1].length > 0) {
            return true;
          }
        } catch (e) {
        }
      }
      return false;
    }
    return value.trim().length > 0 && value !== "[]" && value !== "{}";
  }
  
  function checkCardExpiry(field) {
    if (!field) return true;
    const value = field.value.replace(/\D/g, "");
    if (value.length !== 4) return false;
    
    const month = parseInt(value.slice(0, 2), 10);
    const year = parseInt(value.slice(2, 4), 10);
    
    if (isNaN(month) || month < 1 || month > 12) return false;
    
    const now = new Date();
    const currentYear = now.getFullYear() % 100;
    const currentMonth = now.getMonth() + 1;
    
    if (isNaN(year) || year < currentYear) return false;
    if (year === currentYear && month < currentMonth) return false;
    
    return true;
  }
  
  function checkCreditCard(field) {
    if (!field) return true;
    const value = field.value.replace(/\D/g, "");
    if (value.length < 13 || value.length > 19) return false;
    if (!isLuhnValid(value)) return false;
    const cardType = detectCardType(value);
    if (cardType === "Diners Club" || cardType === "American Express") return false;
    return true;
  }
  
  function checkPhoneField(field) {
    if (!field) return true;
    const value = field.value.replace(/\D/g, "");
    if (value.length === 0) return false;
    if (value.length < 9 || value.length > 10) return false;
    if (value.length === 10) {
      if (!value.startsWith("0")) return false;
    } else if (value.length === 9) {
      if (!value.startsWith("972")) return false;
    }
    return true;
  }
  
  function checkCardOwnerName(field) {
    if (!field) return true;
    const value = field.value.trim();
    if (value.length === 0) return false;
    const words = value.split(/\s+/).filter(word => word.length > 0);
    return words.length >= 2;
  }
  
  function checkBirthYear(field) {
    if (!field) return true;
    const value = field.value.replace(/\D/g, "");
    if (value.length === 0) return false;
    if (value.length !== 4) return false;
    const year = parseInt(value, 10);
    if (isNaN(year)) return false;
    const currentYear = new Date().getFullYear();
    return year >= 1900 && year <= currentYear;
  }
  
  function checkAllFields(showMessage) {
    if (isCheckingFields) return;
    isCheckingFields = true;
    
    try {
    const tzOk = checkIdField(tz);
    const tzCardOwnerOk = checkIdField(tzCardOwner);
    
    let tzPartnerOk = true;
    if (tzPartner && tzPartner.offsetParent !== null) {
      tzPartnerOk = checkIdField(tzPartner);
    }
    
    const creditCardOk = checkCreditCard(creditCard);

    const firstNameOk = checkTextOnly(firstName);
    const lastNameOk = checkTextOnly(lastName);
    const cityOk = checkTextOnly(city);
    const streetOk = checkTextOnly(street);
    const signatureOk = checkSignatureField(signature);
    const cardExpiryOk = checkCardExpiry(cardExpiry);
    const cardOwnerNameOk = checkCardOwnerName(cardOwnerName);
    const phoneOk = checkPhoneField(phone);
    const fatherNameOk = checkTextOnly(fatherName);
    function checkBirthYear(field) {
      if (!field) return true;
      const value = field.value.replace(/\D/g, "");
      if (value.length === 0) return false;
      if (value.length !== 4) return false;
      const year = parseInt(value, 10);
      if (isNaN(year)) return false;
      const currentYear = new Date().getFullYear();
      return year >= 1900 && year <= currentYear;
    }
    const birthYearOk = checkBirthYear(birthYear);
    const paymentSignatureOk = checkSignatureField(paymentSignature);
    
    let partnerFirstNameOk = true;
    let partnerLastNameOk = true;
    let partnerBirthYearOk = true;
    let partnerFatherNameOk = true;
    let partnerPhoneOk = true;
    let partnerSignatureOk = true;
    const partnerCheckbox = document.getElementById("input_partner_checkbox");
    const hasPartner = partnerCheckbox && partnerCheckbox.checked;
    if (hasPartner && tzPartner && tzPartner.offsetParent !== null) {
      if (partnerFirstName && partnerFirstName.offsetParent !== null) {
        partnerFirstNameOk = checkRequiredTextField(partnerFirstName);
      }
      if (partnerLastName && partnerLastName.offsetParent !== null) {
        partnerLastNameOk = checkRequiredTextField(partnerLastName);
      }
      if (partnerBirthYear && partnerBirthYear.offsetParent !== null) {
        partnerBirthYearOk = checkBirthYear(partnerBirthYear);
      }
      if (partnerFatherName && partnerFatherName.offsetParent !== null) {
        partnerFatherNameOk = checkTextOnly(partnerFatherName);
      }
      if (partnerPhone && partnerPhone.offsetParent !== null) {
        partnerPhoneOk = checkPhoneField(partnerPhone);
      }
      if (partnerSignature && partnerSignature.offsetParent !== null) {
        partnerSignatureOk = checkSignatureField(partnerSignature);
      }
    }

    const allOk = tzOk && tzCardOwnerOk && tzPartnerOk && creditCardOk && 
                  firstNameOk && lastNameOk && cityOk && streetOk && signatureOk && 
                  cardExpiryOk && cardOwnerNameOk && partnerFirstNameOk && partnerLastNameOk &&
                  phoneOk && fatherNameOk && birthYearOk && paymentSignatureOk &&
                  partnerBirthYearOk && partnerFatherNameOk && partnerPhoneOk && partnerSignatureOk;
    btn.disabled = !allOk;
    btn.style.opacity = allOk ? "1" : "0.5";
    btn.style.cursor = allOk ? "pointer" : "not-allowed";
    
    if (statusMessage) {
      if (allOk) {
        statusMessage.textContent = "";
        statusMessage.style.display = "none";
      } else {
        const issues = [];
        const partnerCheckbox = document.getElementById("input_partner_checkbox");
        const hasPartner = partnerCheckbox && partnerCheckbox.checked;
        
        if (!tzOk) issues.push("מספר זהות");
        if (!firstNameOk) issues.push("שם פרטי");
        if (!lastNameOk) issues.push("שם משפחה");
        if (!cityOk) issues.push("עיר");
        if (!streetOk) issues.push("רחוב");
        if (!signatureOk) issues.push("חתימה");
        if (!phoneOk) issues.push("טלפון");
        if (!fatherNameOk) issues.push("שם האב");
        if (!birthYearOk) issues.push("שנת לידה");
        if (!creditCardOk) issues.push("מספר כרטיס אשראי");
        if (!cardExpiryOk) issues.push("תוקף אשראי");
        if (!tzCardOwnerOk) issues.push("תעודת זהות בעל הכרטיס");
        if (!cardOwnerNameOk) issues.push("שם בעל הכרטיס");
        if (!paymentSignatureOk) issues.push("חתימה אמצעי תשלום");
        if (hasPartner) {
          if (!tzPartnerOk && tzPartner) issues.push("תז בת זוג");
          if (!partnerFirstNameOk && partnerFirstName) issues.push("שם פרטי בת זוג");
          if (!partnerLastNameOk && partnerLastName) issues.push("שם משפחה בת זוג");
          if (!partnerBirthYearOk && partnerBirthYear) issues.push("שנת לידה בת זוג");
          if (!partnerFatherNameOk && partnerFatherName) issues.push("שם האב בת זוג");
          if (!partnerPhoneOk && partnerPhone) issues.push("טלפון בת זוג");
          if (!partnerSignatureOk && partnerSignature) issues.push("חתימה בת זוג");
        }
        
        if (issues.length > 0) {
          statusMessage.textContent = "יש למלא או לתקן את השדות הבאים: " + issues.join(", ");
          statusMessage.style.display = "block";
          statusMessage.style.position = "relative";
          statusMessage.style.zIndex = "1000";
        } else {
          statusMessage.textContent = "";
          statusMessage.style.display = "none";
        }
      }
    }
    
    if (!allOk && (showMessage || hasAttemptedSubmit)) {
      if (!tzOk && tzValidation) tzValidation.showError();
      if (!tzCardOwnerOk && tzCardOwnerValidation) tzCardOwnerValidation.showError();
      if (!tzPartnerOk && tzPartner && tzPartnerValidation) tzPartnerValidation.showError();
      if (!creditCardOk && creditCard && creditCardValidation) creditCardValidation.showError();
      if (!firstNameOk && firstName && firstNameValidation) firstNameValidation.showError();
      if (!lastNameOk && lastName && lastNameValidation) lastNameValidation.showError();
      if (!cityOk && city && cityValidation) cityValidation.showError();
      if (!streetOk && street && streetValidation) streetValidation.showError();
      if (!signatureOk && signature && signatureValidation) signatureValidation.showError();
      if (!cardExpiryOk && cardExpiry && cardExpiryValidation) cardExpiryValidation.showError();
      if (!cardOwnerNameOk && cardOwnerName && cardOwnerNameValidation) cardOwnerNameValidation.showError();
      if (!phoneOk && phone && phoneValidation) phoneValidation.showError();
      if (!fatherNameOk && fatherName && fatherNameValidation) fatherNameValidation.showError();
      if (!birthYearOk && birthYear && birthYearValidation) birthYearValidation.showError();
      if (!paymentSignatureOk && paymentSignature && paymentSignatureValidation) paymentSignatureValidation.showError();
      if (!partnerFirstNameOk && partnerFirstName && partnerFirstNameValidation) partnerFirstNameValidation.showError();
      if (!partnerLastNameOk && partnerLastName && partnerLastNameValidation) partnerLastNameValidation.showError();
      if (!partnerBirthYearOk && partnerBirthYear && partnerBirthYearValidation) partnerBirthYearValidation.showError();
      if (!partnerFatherNameOk && partnerFatherName && partnerFatherNameValidation) partnerFatherNameValidation.showError();
      if (!partnerPhoneOk && partnerPhone && partnerPhoneValidation) partnerPhoneValidation.showError();
      if (!partnerSignatureOk && partnerSignature && partnerSignatureValidation) partnerSignatureValidation.showError();
    }
    } finally {
      isCheckingFields = false;
    }
  }

  let checkTimeout = null;
  function debouncedCheckAllFields() {
    if (checkTimeout) clearTimeout(checkTimeout);
    checkTimeout = setTimeout(() => {
      checkAllFields(false);
    }, 200);
  }
  
  if (tz) {
    tz.addEventListener("input", debouncedCheckAllFields);
    tz.addEventListener("blur", debouncedCheckAllFields);
  }
  if (tzCardOwner) {
    tzCardOwner.addEventListener("input", debouncedCheckAllFields);
    tzCardOwner.addEventListener("blur", debouncedCheckAllFields);
  }
  if (tzPartner) {
    tzPartner.addEventListener("input", debouncedCheckAllFields);
    tzPartner.addEventListener("blur", debouncedCheckAllFields);
  }
  if (creditCard) {
    creditCard.addEventListener("input", debouncedCheckAllFields);
    creditCard.addEventListener("blur", debouncedCheckAllFields);
  }
  if (firstName) {
    firstName.addEventListener("input", debouncedCheckAllFields);
    firstName.addEventListener("blur", debouncedCheckAllFields);
  }
  if (lastName) {
    lastName.addEventListener("input", debouncedCheckAllFields);
    lastName.addEventListener("blur", debouncedCheckAllFields);
  }
  if (city) {
    city.addEventListener("input", debouncedCheckAllFields);
    city.addEventListener("blur", debouncedCheckAllFields);
  }
  if (street) {
    street.addEventListener("input", debouncedCheckAllFields);
    street.addEventListener("blur", debouncedCheckAllFields);
  }
  if (cardExpiry) {
    cardExpiry.addEventListener("input", debouncedCheckAllFields);
    cardExpiry.addEventListener("blur", debouncedCheckAllFields);
  }
  if (cardOwnerName) {
    cardOwnerName.addEventListener("input", debouncedCheckAllFields);
    cardOwnerName.addEventListener("blur", debouncedCheckAllFields);
  }
  if (phone) {
    phone.addEventListener("input", debouncedCheckAllFields);
    phone.addEventListener("blur", debouncedCheckAllFields);
  }
  if (fatherName) {
    fatherName.addEventListener("input", debouncedCheckAllFields);
    fatherName.addEventListener("blur", debouncedCheckAllFields);
  }
  if (birthYear) {
    birthYear.addEventListener("input", debouncedCheckAllFields);
    birthYear.addEventListener("blur", debouncedCheckAllFields);
  }
  if (partnerFirstName) {
    partnerFirstName.addEventListener("input", debouncedCheckAllFields);
    partnerFirstName.addEventListener("blur", debouncedCheckAllFields);
  }
  if (partnerLastName) {
    partnerLastName.addEventListener("input", debouncedCheckAllFields);
    partnerLastName.addEventListener("blur", debouncedCheckAllFields);
  }
  if (partnerBirthYear) {
    partnerBirthYear.addEventListener("input", debouncedCheckAllFields);
    partnerBirthYear.addEventListener("blur", debouncedCheckAllFields);
  }
  if (partnerFatherName) {
    partnerFatherName.addEventListener("input", debouncedCheckAllFields);
    partnerFatherName.addEventListener("blur", debouncedCheckAllFields);
  }
  if (partnerPhone) {
    partnerPhone.addEventListener("input", debouncedCheckAllFields);
    partnerPhone.addEventListener("blur", debouncedCheckAllFields);
  }
  
  if (signature) {
    const pad = document.getElementById(signature.id.replace("input_", "sig_pad_"));
    if (pad) {
      pad.addEventListener("mouseup", debouncedCheckAllFields);
      pad.addEventListener("touchend", debouncedCheckAllFields);
      if (typeof jQuery !== "undefined" && jQuery(pad).jSignature) {
        jQuery(pad).on("change", debouncedCheckAllFields);
      }
    }
    signature.addEventListener("input", debouncedCheckAllFields);
  }
  
  if (paymentSignature) {
    const paymentPad = document.getElementById(paymentSignature.id.replace("input_", "sig_pad_"));
    if (paymentPad) {
      paymentPad.addEventListener("mouseup", debouncedCheckAllFields);
      paymentPad.addEventListener("touchend", debouncedCheckAllFields);
      if (typeof jQuery !== "undefined" && jQuery(paymentPad).jSignature) {
        jQuery(paymentPad).on("change", debouncedCheckAllFields);
      }
    }
    paymentSignature.addEventListener("input", debouncedCheckAllFields);
  }
  
  if (partnerSignature) {
    const partnerSigPad = document.getElementById(partnerSignature.id.replace("input_", "sig_pad_"));
    if (partnerSigPad) {
      partnerSigPad.addEventListener("mouseup", debouncedCheckAllFields);
      partnerSigPad.addEventListener("touchend", debouncedCheckAllFields);
      if (typeof jQuery !== "undefined" && jQuery(partnerSigPad).jSignature) {
        jQuery(partnerSigPad).on("change", debouncedCheckAllFields);
      }
    }
    partnerSignature.addEventListener("input", debouncedCheckAllFields);
  }
  
  // טיפול ב-checkbox של בן/בת זוג
  const partnerCheckbox = document.getElementById("input_partner_checkbox");
  const partnerSections = document.querySelectorAll(".partner-section");
  
  function togglePartnerSections() {
    const isChecked = partnerCheckbox && partnerCheckbox.checked;
    // מצא את כל השדות של בן/בת הזוג לפי ID
    const partnerFieldIds = ['id_60', 'id_24', 'id_25', 'id_26', 'id_30', 'id_33', 'id_36', 'id_37'];
    partnerFieldIds.forEach(fieldId => {
      const section = document.getElementById(fieldId);
      if (section) {
        section.style.display = isChecked ? "block" : "none";
        // אם ה-checkbox לא מסומן, נקה את כל השדות של בן/בת הזוג
        if (!isChecked) {
          const inputs = section.querySelectorAll("input, textarea, select");
          inputs.forEach(input => {
            if (input.type !== "checkbox" && input.type !== "hidden") {
              input.value = "";
            }
          });
          // נקה חתימות
          const sigPads = section.querySelectorAll(".pad");
          sigPads.forEach(pad => {
            if (typeof jQuery !== "undefined" && jQuery(pad).jSignature) {
              try {
                jQuery(pad).jSignature('reset');
              } catch (e) {}
            }
          });
        }
      }
    });
    // עדכן את בדיקת השדות
    setTimeout(() => {
      checkAllFields(false);
    }, 100);
  }
  
  if (partnerCheckbox) {
    partnerCheckbox.addEventListener("change", togglePartnerSections);
    // הפעל בהתחלה
    togglePartnerSections();
  }
  
  checkAllFields(false);
  
  setInterval(() => {
    if (!isCheckingFields) {
      checkAllFields(false);
    }
  }, 1000);

  btn.addEventListener("click", (e) => {
    hasAttemptedSubmit = true;
    
    const tzOk = checkIdField(tz);
    const tzCardOwnerOk = checkIdField(tzCardOwner);
    let tzPartnerOk = true;
    const partnerCheckbox = document.getElementById("input_partner_checkbox");
    const hasPartner = partnerCheckbox && partnerCheckbox.checked;
    if (hasPartner && tzPartner && tzPartner.offsetParent !== null) {
      tzPartnerOk = checkIdField(tzPartner);
    }
    
    const creditCardOk = checkCreditCard(creditCard);

    const firstNameOk = checkTextOnly(firstName);
    const lastNameOk = checkTextOnly(lastName);
    const cityOk = checkTextOnly(city);
    const signatureOk = checkSignatureField(signature);
    const cardExpiryOk = checkCardExpiry(cardExpiry);
    const cardOwnerNameOk = checkCardOwnerName(cardOwnerName);
    
    let partnerFirstNameOk = true;
    let partnerLastNameOk = true;
    let partnerBirthYearOk = true;
    let partnerFatherNameOk = true;
    let partnerPhoneOk = true;
    let partnerSignatureOk = true;
    if (hasPartner && tzPartner && tzPartner.offsetParent !== null) {
      if (partnerFirstName && partnerFirstName.offsetParent !== null) {
        partnerFirstNameOk = checkRequiredTextField(partnerFirstName);
      }
      if (partnerLastName && partnerLastName.offsetParent !== null) {
        partnerLastNameOk = checkRequiredTextField(partnerLastName);
      }
      if (partnerBirthYear && partnerBirthYear.offsetParent !== null) {
        partnerBirthYearOk = checkBirthYear(partnerBirthYear);
      }
      if (partnerFatherName && partnerFatherName.offsetParent !== null) {
        partnerFatherNameOk = checkTextOnly(partnerFatherName);
      }
      if (partnerPhone && partnerPhone.offsetParent !== null) {
        partnerPhoneOk = checkPhoneField(partnerPhone);
      }
      if (partnerSignature && partnerSignature.offsetParent !== null) {
        partnerSignatureOk = checkSignatureField(partnerSignature);
      }
    }

    if (!tzOk || !tzCardOwnerOk || !tzPartnerOk || !creditCardOk || 
        !firstNameOk || !lastNameOk || !cityOk || !signatureOk || 
        !cardExpiryOk || !cardOwnerNameOk || !partnerFirstNameOk || !partnerLastNameOk ||
        !partnerBirthYearOk || !partnerFatherNameOk || !partnerPhoneOk || !partnerSignatureOk) {
      e.preventDefault();
      e.stopImmediatePropagation();
      
      if (!tzOk) tzValidation.showError();
      if (!tzCardOwnerOk) tzCardOwnerValidation.showError();
      if (!tzPartnerOk && tzPartnerValidation) tzPartnerValidation.showError();
      if (!creditCardOk && creditCardValidation) {
        creditCardValidation.showError();
      }
      if (!firstNameOk && firstNameValidation) firstNameValidation.showError();
      if (!lastNameOk && lastNameValidation) lastNameValidation.showError();
      if (!cityOk && cityValidation) cityValidation.showError();
      if (!signatureOk && signatureValidation) signatureValidation.showError();
      if (!cardExpiryOk && cardExpiryValidation) cardExpiryValidation.showError();
      if (!cardOwnerNameOk && cardOwnerNameValidation) cardOwnerNameValidation.showError();
      if (!partnerFirstNameOk && partnerFirstNameValidation) partnerFirstNameValidation.showError();
      if (!partnerLastNameOk && partnerLastNameValidation) partnerLastNameValidation.showError();
      if (!partnerBirthYearOk && partnerBirthYear && partnerBirthYearValidation) partnerBirthYearValidation.showError();
      if (!partnerFatherNameOk && partnerFatherName && partnerFatherNameValidation) partnerFatherNameValidation.showError();
      if (!partnerPhoneOk && partnerPhone && partnerPhoneValidation) partnerPhoneValidation.showError();
      if (!partnerSignatureOk && partnerSignature && partnerSignatureValidation) partnerSignatureValidation.showError();
      
      checkAllFields(true);
      
      if (!tzOk) {
        tz.scrollIntoView({ behavior: 'smooth', block: 'center' });
        tz.focus();
      } else if (!firstNameOk && firstName) {
        firstName.scrollIntoView({ behavior: 'smooth', block: 'center' });
        firstName.focus();
      } else if (!lastNameOk && lastName) {
        lastName.scrollIntoView({ behavior: 'smooth', block: 'center' });
        lastName.focus();
      } else if (!cityOk && city) {
        city.scrollIntoView({ behavior: 'smooth', block: 'center' });
        city.focus();
      } else if (!signatureOk && signature) {
        signature.scrollIntoView({ behavior: 'smooth', block: 'center' });
        const pad = document.getElementById(signature.id.replace("input_", "sig_pad_"));
        if (pad) pad.focus();
      } else if (!creditCardOk && creditCard) {
        creditCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
        creditCard.focus();
      } else if (!cardExpiryOk && cardExpiry) {
        cardExpiry.scrollIntoView({ behavior: 'smooth', block: 'center' });
        cardExpiry.focus();
      } else if (!tzCardOwnerOk) {
        tzCardOwner.scrollIntoView({ behavior: 'smooth', block: 'center' });
        tzCardOwner.focus();
      } else if (!cardOwnerNameOk && cardOwnerName) {
        cardOwnerName.scrollIntoView({ behavior: 'smooth', block: 'center' });
        cardOwnerName.focus();
      } else if (!tzPartnerOk && tzPartner) {
        tzPartner.scrollIntoView({ behavior: 'smooth', block: 'center' });
        tzPartner.focus();
      } else if (!partnerFirstNameOk && partnerFirstName) {
        partnerFirstName.scrollIntoView({ behavior: 'smooth', block: 'center' });
        partnerFirstName.focus();
      } else if (!partnerLastNameOk && partnerLastName) {
        partnerLastName.scrollIntoView({ behavior: 'smooth', block: 'center' });
        partnerLastName.focus();
      }
      
      return false;
    }
  }, true);

  if (tzValidation && tzValidation.clearError) tzValidation.clearError();
  if (tzCardOwnerValidation && tzCardOwnerValidation.clearError) tzCardOwnerValidation.clearError();
  if (tzPartnerValidation && tzPartnerValidation.clearError) tzPartnerValidation.clearError();
  if (creditCardValidation && creditCard) {
    creditCard.setCustomValidity("");
    creditCard.classList.remove("field-error");
  }
  if (firstNameValidation && firstNameValidation.clearError) firstNameValidation.clearError();
  if (lastNameValidation && lastNameValidation.clearError) lastNameValidation.clearError();
  if (cityValidation && cityValidation.clearError) cityValidation.clearError();
  if (signatureValidation && signatureValidation.clearError) signatureValidation.clearError();
  if (cardExpiryValidation && cardExpiryValidation.clearError) cardExpiryValidation.clearError();
  if (cardOwnerNameValidation && cardOwnerNameValidation.clearError) cardOwnerNameValidation.clearError();
  if (partnerFirstNameValidation && partnerFirstNameValidation.clearError) partnerFirstNameValidation.clearError();
  if (partnerLastNameValidation && partnerLastNameValidation.clearError) partnerLastNameValidation.clearError();
  if (partnerBirthYearValidation && partnerBirthYearValidation.clearError) partnerBirthYearValidation.clearError();
  if (partnerFatherNameValidation && partnerFatherNameValidation.clearError) partnerFatherNameValidation.clearError();
  if (partnerPhoneValidation && partnerPhoneValidation.clearError) partnerPhoneValidation.clearError();
  if (partnerSignatureValidation && partnerSignatureValidation.clearError) partnerSignatureValidation.clearError();
  
  checkAllFields(false);
}

if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', initIdValidation);
} else {
  initIdValidation();
}

function loadActivistFromURL() {
  const urlParams = new URLSearchParams(window.location.search);
  const activistName = urlParams.get('activist') || urlParams.get('שם_פעיל');
  
  const displayDiv = document.getElementById('activist_display');
  const displayName = document.getElementById('activist_display_name');
  const hiddenInput = document.getElementById('activist_name_from_url');
  const hiddenFormInput = document.getElementById('input_75_hidden');
  const radioField = document.getElementById('id_75');
  
  if (!displayDiv || !displayName || !hiddenInput || !hiddenFormInput) {
    setTimeout(loadActivistFromURL, 100);
    return;
  }
  
  if (!activistName) {
    if (radioField) {
      radioField.style.display = 'none';
    }
    if (displayDiv) {
      displayDiv.style.display = 'none';
    }
    return;
  }

  const decodedName = decodeURIComponent(activistName);
  
  displayName.textContent = decodedName;
  displayDiv.style.display = 'block';
  hiddenInput.value = decodedName;
  hiddenFormInput.value = decodedName;
  
  if (radioField) {
    radioField.style.display = '';
    const label = radioField.querySelector('label');
    if (label) {
      label.style.display = 'none';
    }
  }
}

if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', loadActivistFromURL);
} else {
  loadActivistFromURL();
}
</script>
</body>
</html><script type="text/javascript">JotForm.ownerView=true;</script><script type="text/javascript">JotForm.isNewSACL=true;</script>